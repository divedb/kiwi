\doxysection{time.\+hh}
\hypertarget{time_8hh_source}{}\label{time_8hh_source}\index{include/kiwi/chrono/time.hh@{include/kiwi/chrono/time.hh}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ Copyright\ 2012\ The\ Chromium\ Authors}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ Use\ of\ this\ source\ code\ is\ governed\ by\ a\ BSD-\/style\ license\ that\ can\ be}}
\DoxyCodeLine{00003\ \textcolor{comment}{//\ found\ in\ the\ LICENSE\ file.}}
\DoxyCodeLine{00004\ }
\DoxyCodeLine{00063\ }
\DoxyCodeLine{00064\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00065\ }
\DoxyCodeLine{00066\ \textcolor{preprocessor}{\#include\ <stdint.h>}}
\DoxyCodeLine{00067\ \textcolor{preprocessor}{\#include\ <time.h>}}
\DoxyCodeLine{00068\ }
\DoxyCodeLine{00069\ \textcolor{preprocessor}{\#include\ <compare>}}
\DoxyCodeLine{00070\ \textcolor{preprocessor}{\#include\ <concepts>}}
\DoxyCodeLine{00071\ \textcolor{preprocessor}{\#include\ <iosfwd>}}
\DoxyCodeLine{00072\ \textcolor{preprocessor}{\#include\ <limits>}}
\DoxyCodeLine{00073\ \textcolor{preprocessor}{\#include\ <ostream>}}
\DoxyCodeLine{00074\ \textcolor{preprocessor}{\#include\ <type\_traits>}}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00076\ \textcolor{preprocessor}{\#include\ "{}kiwi/numerics/clamped\_math.hh"{}}}
\DoxyCodeLine{00077\ \textcolor{preprocessor}{\#include\ "{}kiwi/portability/base\_export.hh"{}}}
\DoxyCodeLine{00078\ \textcolor{preprocessor}{\#include\ "{}kiwi/portability/build\_config.hh"{}}}
\DoxyCodeLine{00079\ \textcolor{preprocessor}{\#include\ "{}kiwi/portability/compiler\_specific.hh"{}}}
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00081\ \textcolor{preprocessor}{\#if\ BUILDFLAG(IS\_FUCHSIA)}}
\DoxyCodeLine{00082\ \textcolor{preprocessor}{\#include\ <zircon/types.h>}}
\DoxyCodeLine{00083\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00084\ }
\DoxyCodeLine{00085\ \textcolor{preprocessor}{\#if\ BUILDFLAG(IS\_APPLE)}}
\DoxyCodeLine{00086\ \textcolor{preprocessor}{\#include\ <CoreFoundation/CoreFoundation.h>}}
\DoxyCodeLine{00087\ \textcolor{preprocessor}{\#include\ <mach/mach\_time.h>}}
\DoxyCodeLine{00088\ \textcolor{comment}{//\ Avoid\ Mac\ system\ header\ macro\ leak.}}
\DoxyCodeLine{00089\ \textcolor{preprocessor}{\#undef\ TYPE\_BOOL}}
\DoxyCodeLine{00090\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00091\ }
\DoxyCodeLine{00092\ \textcolor{preprocessor}{\#if\ BUILDFLAG(IS\_POSIX)\ ||\ BUILDFLAG(IS\_FUCHSIA)}}
\DoxyCodeLine{00093\ \textcolor{preprocessor}{\#include\ <sys/time.h>}}
\DoxyCodeLine{00094\ \textcolor{preprocessor}{\#include\ <unistd.h>}}
\DoxyCodeLine{00095\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00096\ }
\DoxyCodeLine{00097\ \textcolor{preprocessor}{\#if\ BUILDFLAG(IS\_WIN)}}
\DoxyCodeLine{00098\ \textcolor{preprocessor}{\#include\ "{}base/gtest\_prod\_util.h"{}}}
\DoxyCodeLine{00099\ \textcolor{preprocessor}{\#include\ "{}base/win/windows\_types.h"{}}}
\DoxyCodeLine{00100\ }
\DoxyCodeLine{00101\ \textcolor{keyword}{namespace\ }abi\ \{}
\DoxyCodeLine{00102\ \textcolor{keyword}{namespace\ }windows\ \{}
\DoxyCodeLine{00103\ \textcolor{keyword}{namespace\ }foundation\ \{}
\DoxyCodeLine{00104\ \textcolor{keyword}{struct\ }DateTime;}
\DoxyCodeLine{00105\ \textcolor{keyword}{struct\ }TimeSpan;}
\DoxyCodeLine{00106\ \}\ \ \textcolor{comment}{//\ namespace\ foundation}}
\DoxyCodeLine{00107\ \}\ \ \textcolor{comment}{//\ namespace\ windows}}
\DoxyCodeLine{00108\ \}\ \ \textcolor{comment}{//\ namespace\ abi}}
\DoxyCodeLine{00109\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00110\ }
\DoxyCodeLine{00111\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacekiwi}{kiwi}}\ \{}
\DoxyCodeLine{00112\ }
\DoxyCodeLine{00113\ \textcolor{preprocessor}{\#if\ BUILDFLAG(IS\_WIN)}}
\DoxyCodeLine{00114\ \textcolor{keyword}{class\ }PlatformThreadHandle;}
\DoxyCodeLine{00115\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00116\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classkiwi_1_1_time_delta}{TimeDelta}};}
\DoxyCodeLine{00117\ }
\DoxyCodeLine{00118\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00119\ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{classkiwi_1_1_time_delta}{TimeDelta}}\ Microseconds(T\ n);}
\DoxyCodeLine{00120\ }
\DoxyCodeLine{00121\ \textcolor{keyword}{namespace\ }\{}
\DoxyCodeLine{00122\ }
\DoxyCodeLine{00123\ \textcolor{comment}{//\ TODO:\ Replace\ usage\ of\ this\ with\ std::isnan()\ once\ Chromium\ uses\ C++23,}}
\DoxyCodeLine{00124\ \textcolor{comment}{//\ where\ that\ is\ constexpr.}}
\DoxyCodeLine{00125\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{bool}\ isnan(\textcolor{keywordtype}{double}\ d)\ \{\ \textcolor{keywordflow}{return}\ d\ !=\ d;\ \}}
\DoxyCodeLine{00126\ }
\DoxyCodeLine{00127\ \}\ \ \textcolor{comment}{//\ namespace}}
\DoxyCodeLine{00128\ }
\DoxyCodeLine{00129\ \textcolor{comment}{//\ TimeDelta\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00130\ }
\DoxyCodeLine{00131\ \textcolor{keyword}{class\ }BASE\_EXPORT\ TimeDelta\ \{}
\DoxyCodeLine{00132\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00133\ \ \ \textcolor{keyword}{constexpr}\ TimeDelta()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00134\ }
\DoxyCodeLine{00135\ \textcolor{preprocessor}{\#if\ BUILDFLAG(IS\_WIN)}}
\DoxyCodeLine{00136\ \ \ \textcolor{keyword}{static}\ TimeDelta\ FromQPCValue(LONGLONG\ qpc\_value);}
\DoxyCodeLine{00137\ \ \ \textcolor{comment}{//\ TODO(crbug.com/40638442):\ Avoid\ base::TimeDelta\ factory\ functions}}
\DoxyCodeLine{00138\ \ \ \textcolor{comment}{//\ based\ on\ absolute\ time}}
\DoxyCodeLine{00139\ \ \ \textcolor{keyword}{static}\ TimeDelta\ FromFileTime(FILETIME\ ft);}
\DoxyCodeLine{00140\ \ \ \textcolor{keyword}{static}\ TimeDelta\ FromWinrtDateTime(ABI::Windows::Foundation::DateTime\ dt);}
\DoxyCodeLine{00141\ \ \ \textcolor{keyword}{static}\ TimeDelta\ FromWinrtTimeSpan(ABI::Windows::Foundation::TimeSpan\ ts);}
\DoxyCodeLine{00142\ \textcolor{preprocessor}{\#elif\ BUILDFLAG(IS\_POSIX)\ ||\ BUILDFLAG(IS\_FUCHSIA)}}
\DoxyCodeLine{00143\ \ \ \textcolor{keyword}{static}\ TimeDelta\ FromTimeSpec(\textcolor{keyword}{const}\ timespec\&\ ts);}
\DoxyCodeLine{00144\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00145\ \textcolor{preprocessor}{\#if\ BUILDFLAG(IS\_FUCHSIA)}}
\DoxyCodeLine{00146\ \ \ \textcolor{keyword}{static}\ TimeDelta\ FromZxDuration(zx\_duration\_t\ nanos);}
\DoxyCodeLine{00147\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00148\ \textcolor{preprocessor}{\#if\ BUILDFLAG(IS\_APPLE)}}
\DoxyCodeLine{00149\ \ \ \textcolor{keyword}{static}\ TimeDelta\ FromMachTime(uint64\_t\ mach\_time);}
\DoxyCodeLine{00150\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ BUILDFLAG(IS\_APPLE)}}
\DoxyCodeLine{00151\ }
\DoxyCodeLine{00152\ \ \ \textcolor{comment}{//\ Converts\ an\ integer\ value\ representing\ TimeDelta\ to\ a\ class.\ This\ is\ used}}
\DoxyCodeLine{00153\ \ \ \textcolor{comment}{//\ when\ deserializing\ a\ |TimeDelta|\ structure,\ using\ a\ value\ known\ to\ be}}
\DoxyCodeLine{00154\ \ \ \textcolor{comment}{//\ compatible.\ It\ is\ not\ provided\ as\ a\ constructor\ because\ the\ integer\ type}}
\DoxyCodeLine{00155\ \ \ \textcolor{comment}{//\ may\ be\ unclear\ from\ the\ perspective\ of\ a\ caller.}}
\DoxyCodeLine{00156\ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00157\ \ \ \textcolor{comment}{//\ DEPRECATED\ -\/\ Do\ not\ use\ in\ new\ code.\ http://crbug.com/634507}}
\DoxyCodeLine{00158\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ TimeDelta\ FromInternalValue(int64\_t\ delta)\ \{}
\DoxyCodeLine{00159\ \ \ \ \ \textcolor{keywordflow}{return}\ TimeDelta(delta);}
\DoxyCodeLine{00160\ \ \ \}}
\DoxyCodeLine{00161\ }
\DoxyCodeLine{00162\ \ \ \textcolor{comment}{//\ Returns\ the\ maximum\ time\ delta,\ which\ should\ be\ greater\ than\ any\ reasonable}}
\DoxyCodeLine{00163\ \ \ \textcolor{comment}{//\ time\ delta\ we\ might\ compare\ it\ to.\ If\ converted\ to\ double\ with\ ToDouble()}}
\DoxyCodeLine{00164\ \ \ \textcolor{comment}{//\ it\ becomes\ an\ IEEE\ double\ infinity.\ Use\ FiniteMax()\ if\ you\ want\ a\ very}}
\DoxyCodeLine{00165\ \ \ \textcolor{comment}{//\ large\ number\ that\ doesn't\ do\ this.\ TimeDelta\ math\ saturates\ at\ the\ end}}
\DoxyCodeLine{00166\ \ \ \textcolor{comment}{//\ points\ so\ adding\ to\ TimeDelta::Max()\ leaves\ the\ value\ unchanged.}}
\DoxyCodeLine{00167\ \ \ \textcolor{comment}{//\ Subtracting\ should\ leave\ the\ value\ unchanged\ but\ currently\ changes\ it}}
\DoxyCodeLine{00168\ \ \ \textcolor{comment}{//\ TODO(crbug.com/41405098).}}
\DoxyCodeLine{00169\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ TimeDelta\ Max();}
\DoxyCodeLine{00170\ }
\DoxyCodeLine{00171\ \ \ \textcolor{comment}{//\ Returns\ the\ minimum\ time\ delta,\ which\ should\ be\ less\ than\ than\ any}}
\DoxyCodeLine{00172\ \ \ \textcolor{comment}{//\ reasonable\ time\ delta\ we\ might\ compare\ it\ to.\ For\ more\ details\ see\ the}}
\DoxyCodeLine{00173\ \ \ \textcolor{comment}{//\ comments\ for\ Max().}}
\DoxyCodeLine{00174\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ TimeDelta\ Min();}
\DoxyCodeLine{00175\ }
\DoxyCodeLine{00176\ \ \ \textcolor{comment}{//\ Returns\ the\ maximum\ time\ delta\ which\ is\ not\ equivalent\ to\ infinity.\ Only}}
\DoxyCodeLine{00177\ \ \ \textcolor{comment}{//\ subtracting\ a\ finite\ time\ delta\ from\ this\ time\ delta\ has\ a\ defined\ result.}}
\DoxyCodeLine{00178\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ TimeDelta\ FiniteMax();}
\DoxyCodeLine{00179\ }
\DoxyCodeLine{00180\ \ \ \textcolor{comment}{//\ Returns\ the\ minimum\ time\ delta\ which\ is\ not\ equivalent\ to\ -\/infinity.\ Only}}
\DoxyCodeLine{00181\ \ \ \textcolor{comment}{//\ adding\ a\ finite\ time\ delta\ to\ this\ time\ delta\ has\ a\ defined\ result.}}
\DoxyCodeLine{00182\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ TimeDelta\ FiniteMin();}
\DoxyCodeLine{00183\ }
\DoxyCodeLine{00184\ \ \ \textcolor{comment}{//\ Returns\ the\ internal\ numeric\ value\ of\ the\ TimeDelta\ object.\ Please\ don't}}
\DoxyCodeLine{00185\ \ \ \textcolor{comment}{//\ use\ this\ and\ do\ arithmetic\ on\ it,\ as\ it\ is\ more\ error\ prone\ than\ using\ the}}
\DoxyCodeLine{00186\ \ \ \textcolor{comment}{//\ provided\ operators.}}
\DoxyCodeLine{00187\ \ \ \textcolor{comment}{//\ For\ serializing,\ use\ FromInternalValue\ to\ reconstitute.}}
\DoxyCodeLine{00188\ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00189\ \ \ \textcolor{comment}{//\ DEPRECATED\ -\/\ Do\ not\ use\ in\ new\ code.\ http://crbug.com/634507}}
\DoxyCodeLine{00190\ \ \ \textcolor{keyword}{constexpr}\ int64\_t\ ToInternalValue()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ delta\_;\ \}}
\DoxyCodeLine{00191\ }
\DoxyCodeLine{00192\ \ \ \textcolor{comment}{//\ Returns\ the\ magnitude\ (absolute\ value)\ of\ this\ TimeDelta.}}
\DoxyCodeLine{00193\ \ \ \textcolor{keyword}{constexpr}\ TimeDelta\ magnitude()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ TimeDelta(delta\_.Abs());\ \}}
\DoxyCodeLine{00194\ }
\DoxyCodeLine{00195\ \ \ \textcolor{comment}{//\ Returns\ true\ if\ the\ time\ delta\ is\ a\ zero,\ positive\ or\ negative\ time\ delta.}}
\DoxyCodeLine{00196\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{bool}\ is\_zero()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ delta\_\ ==\ 0;\ \}}
\DoxyCodeLine{00197\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{bool}\ is\_positive()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ delta\_\ >\ 0;\ \}}
\DoxyCodeLine{00198\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{bool}\ is\_negative()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ delta\_\ <\ 0;\ \}}
\DoxyCodeLine{00199\ }
\DoxyCodeLine{00200\ \ \ \textcolor{comment}{//\ Returns\ true\ if\ the\ time\ delta\ is\ the\ maximum/minimum\ time\ delta.}}
\DoxyCodeLine{00201\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{bool}\ is\_max()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this}\ ==\ Max();\ \}}
\DoxyCodeLine{00202\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{bool}\ is\_min()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this}\ ==\ Min();\ \}}
\DoxyCodeLine{00203\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{bool}\ is\_inf()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ is\_min()\ ||\ is\_max();\ \}}
\DoxyCodeLine{00204\ }
\DoxyCodeLine{00205\ \textcolor{preprocessor}{\#if\ BUILDFLAG(IS\_POSIX)\ ||\ BUILDFLAG(IS\_FUCHSIA)}}
\DoxyCodeLine{00206\ \ \ \textcolor{keyword}{struct\ }timespec\ ToTimeSpec()\ const;}
\DoxyCodeLine{00207\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00208\ \textcolor{preprocessor}{\#if\ BUILDFLAG(IS\_FUCHSIA)}}
\DoxyCodeLine{00209\ \ \ zx\_duration\_t\ ToZxDuration()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00210\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00211\ \textcolor{preprocessor}{\#if\ BUILDFLAG(IS\_WIN)}}
\DoxyCodeLine{00212\ \ \ ABI::Windows::Foundation::DateTime\ ToWinrtDateTime()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00213\ \ \ ABI::Windows::Foundation::TimeSpan\ ToWinrtTimeSpan()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00214\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00215\ }
\DoxyCodeLine{00216\ \ \ \textcolor{comment}{//\ Returns\ the\ frequency\ in\ Hertz\ (cycles\ per\ second)\ that\ has\ a\ period\ of}}
\DoxyCodeLine{00217\ \ \ \textcolor{comment}{//\ *this.}}
\DoxyCodeLine{00218\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{double}\ ToHz()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00219\ }
\DoxyCodeLine{00220\ \ \ \textcolor{comment}{//\ Returns\ the\ time\ delta\ in\ some\ unit.\ Minimum\ argument\ values\ return\ as}}
\DoxyCodeLine{00221\ \ \ \textcolor{comment}{//\ -\/inf\ for\ doubles\ and\ min\ type\ values\ otherwise.\ Maximum\ ones\ are\ treated\ as}}
\DoxyCodeLine{00222\ \ \ \textcolor{comment}{//\ +inf\ for\ doubles\ and\ max\ type\ values\ otherwise.\ Their\ results\ will\ produce}}
\DoxyCodeLine{00223\ \ \ \textcolor{comment}{//\ an\ is\_min()\ or\ is\_max()\ TimeDelta.\ The\ InXYZF\ versions\ return\ a\ floating}}
\DoxyCodeLine{00224\ \ \ \textcolor{comment}{//\ point\ value.\ The\ InXYZ\ versions\ return\ a\ truncated\ value\ (aka\ rounded}}
\DoxyCodeLine{00225\ \ \ \textcolor{comment}{//\ towards\ zero,\ std::trunc()\ behavior).\ The\ InXYZFloored()\ versions\ round\ to}}
\DoxyCodeLine{00226\ \ \ \textcolor{comment}{//\ lesser\ integers\ (std::floor()\ behavior).\ The\ XYZRoundedUp()\ versions\ round}}
\DoxyCodeLine{00227\ \ \ \textcolor{comment}{//\ up\ to\ greater\ integers\ (std::ceil()\ behavior).\ WARNING:\ Floating\ point}}
\DoxyCodeLine{00228\ \ \ \textcolor{comment}{//\ arithmetic\ is\ such\ that\ XXX(t.InXXXF())\ may\ not\ precisely\ equal\ |t|.}}
\DoxyCodeLine{00229\ \ \ \textcolor{comment}{//\ Hence,\ floating\ point\ values\ should\ not\ be\ used\ for\ storage.}}
\DoxyCodeLine{00230\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ InDays()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00231\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ InDaysFloored()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00232\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ InHours()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00233\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ InMinutes()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00234\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{double}\ InSecondsF()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00235\ \ \ \textcolor{keyword}{constexpr}\ int64\_t\ InSeconds()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00236\ \ \ \textcolor{keyword}{constexpr}\ int64\_t\ InSecondsFloored()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00237\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{double}\ InMillisecondsF()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00238\ \ \ \textcolor{keyword}{constexpr}\ int64\_t\ InMilliseconds()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00239\ \ \ \textcolor{keyword}{constexpr}\ int64\_t\ InMillisecondsRoundedUp()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00240\ \ \ \textcolor{keyword}{constexpr}\ int64\_t\ InMicroseconds()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ delta\_;\ \}}
\DoxyCodeLine{00241\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{double}\ InMicrosecondsF()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00242\ \ \ \textcolor{keyword}{constexpr}\ int64\_t\ InNanoseconds()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00243\ }
\DoxyCodeLine{00244\ \ \ \textcolor{comment}{//\ Computations\ with\ other\ deltas.}}
\DoxyCodeLine{00245\ \ \ \textcolor{keyword}{constexpr}\ TimeDelta\ operator+(TimeDelta\ other)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00246\ \ \ \textcolor{keyword}{constexpr}\ TimeDelta\ operator-\/(TimeDelta\ other)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00247\ }
\DoxyCodeLine{00248\ \ \ \textcolor{keyword}{constexpr}\ TimeDelta\&\ operator+=(TimeDelta\ other)\ \{}
\DoxyCodeLine{00249\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this}\ =\ (*\textcolor{keyword}{this}\ +\ other);}
\DoxyCodeLine{00250\ \ \ \}}
\DoxyCodeLine{00251\ \ \ \textcolor{keyword}{constexpr}\ TimeDelta\&\ operator-\/=(TimeDelta\ other)\ \{}
\DoxyCodeLine{00252\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this}\ =\ (*\textcolor{keyword}{this}\ -\/\ other);}
\DoxyCodeLine{00253\ \ \ \}}
\DoxyCodeLine{00254\ \ \ \textcolor{keyword}{constexpr}\ TimeDelta\ operator-\/()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00255\ \ \ \ \ \textcolor{keywordflow}{if}\ (!is\_inf())\ \{}
\DoxyCodeLine{00256\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ TimeDelta(-\/delta\_);}
\DoxyCodeLine{00257\ \ \ \ \ \}}
\DoxyCodeLine{00258\ }
\DoxyCodeLine{00259\ \ \ \ \ \textcolor{keywordflow}{return}\ (delta\_\ <\ 0)\ ?\ Max()\ :\ Min();}
\DoxyCodeLine{00260\ \ \ \}}
\DoxyCodeLine{00261\ }
\DoxyCodeLine{00262\ \ \ \textcolor{comment}{//\ Computations\ with\ numeric\ types.}}
\DoxyCodeLine{00263\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00264\ \ \ \textcolor{keyword}{constexpr}\ TimeDelta\ operator*(T\ a)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00265\ \ \ \ \ \textcolor{keywordflow}{return}\ TimeDelta(int64\_t\{delta\_\ *\ a\});}
\DoxyCodeLine{00266\ \ \ \}}
\DoxyCodeLine{00267\ }
\DoxyCodeLine{00268\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00269\ \ \ \textcolor{keyword}{constexpr}\ TimeDelta\ operator/(T\ a)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00270\ \ \ \ \ \textcolor{keywordflow}{return}\ TimeDelta(int64\_t\{delta\_\ /\ a\});}
\DoxyCodeLine{00271\ \ \ \}}
\DoxyCodeLine{00272\ }
\DoxyCodeLine{00273\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00274\ \ \ \textcolor{keyword}{constexpr}\ TimeDelta\&\ operator*=(T\ a)\ \{}
\DoxyCodeLine{00275\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this}\ =\ (*\textcolor{keyword}{this}\ *\ a);}
\DoxyCodeLine{00276\ \ \ \}}
\DoxyCodeLine{00277\ }
\DoxyCodeLine{00278\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00279\ \ \ \textcolor{keyword}{constexpr}\ TimeDelta\&\ operator/=(T\ a)\ \{}
\DoxyCodeLine{00280\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this}\ =\ (*\textcolor{keyword}{this}\ /\ a);}
\DoxyCodeLine{00281\ \ \ \}}
\DoxyCodeLine{00282\ }
\DoxyCodeLine{00283\ \ \ \textcolor{comment}{//\ This\ does\ floating-\/point\ division.\ For\ an\ integer\ result,\ either\ call}}
\DoxyCodeLine{00284\ \ \ \textcolor{comment}{//\ IntDiv(),\ or\ (possibly\ clearer)\ use\ this\ operator\ with}}
\DoxyCodeLine{00285\ \ \ \textcolor{comment}{//\ base::Clamp\{Ceil,Floor,Round\}()\ or\ base::saturated\_cast()\ (for\ truncation).}}
\DoxyCodeLine{00286\ \ \ \textcolor{comment}{//\ Note\ that\ converting\ to\ double\ here\ drops\ precision\ to\ 53\ bits.}}
\DoxyCodeLine{00287\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{double}\ operator/(TimeDelta\ a)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00288\ \ \ \ \ \textcolor{comment}{//\ 0/0\ and\ inf/inf\ (any\ combination\ of\ positive\ and\ negative)\ are\ invalid}}
\DoxyCodeLine{00289\ \ \ \ \ \textcolor{comment}{//\ (they\ are\ almost\ certainly\ not\ intentional,\ and\ result\ in\ NaN,\ which}}
\DoxyCodeLine{00290\ \ \ \ \ \textcolor{comment}{//\ turns\ into\ 0\ if\ clamped\ to\ an\ integer;\ this\ makes\ introducing\ subtle\ bugs}}
\DoxyCodeLine{00291\ \ \ \ \ \textcolor{comment}{//\ too\ easy).}}
\DoxyCodeLine{00292\ \ \ \ \ assert(!is\_zero()\ ||\ !a.is\_zero());}
\DoxyCodeLine{00293\ \ \ \ \ assert(!is\_inf()\ ||\ !a.is\_inf());}
\DoxyCodeLine{00294\ }
\DoxyCodeLine{00295\ \ \ \ \ \textcolor{keywordflow}{return}\ ToDouble()\ /\ a.ToDouble();}
\DoxyCodeLine{00296\ \ \ \}}
\DoxyCodeLine{00297\ }
\DoxyCodeLine{00298\ \ \ \textcolor{keyword}{constexpr}\ int64\_t\ IntDiv(TimeDelta\ a)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00299\ \ \ \ \ \textcolor{keywordflow}{if}\ (!is\_inf()\ \&\&\ !a.is\_zero())\ \{}
\DoxyCodeLine{00300\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ int64\_t\{delta\_\ /\ a.delta\_\};}
\DoxyCodeLine{00301\ \ \ \ \ \}}
\DoxyCodeLine{00302\ }
\DoxyCodeLine{00303\ \ \ \ \ \textcolor{comment}{//\ For\ consistency,\ use\ the\ same\ edge\ case\ CHECKs\ and\ behavior\ as\ the\ code}}
\DoxyCodeLine{00304\ \ \ \ \ \textcolor{comment}{//\ above.}}
\DoxyCodeLine{00305\ \ \ \ \ assert(!is\_zero()\ ||\ !a.is\_zero());}
\DoxyCodeLine{00306\ \ \ \ \ assert(!is\_inf()\ ||\ !a.is\_inf());}
\DoxyCodeLine{00307\ }
\DoxyCodeLine{00308\ \ \ \ \ \textcolor{keywordflow}{return}\ ((delta\_\ <\ 0)\ ==\ (a.delta\_\ <\ 0))}
\DoxyCodeLine{00309\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ?\ std::numeric\_limits<int64\_t>::max()}
\DoxyCodeLine{00310\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ std::numeric\_limits<int64\_t>::min();}
\DoxyCodeLine{00311\ \ \ \}}
\DoxyCodeLine{00312\ }
\DoxyCodeLine{00313\ \ \ \textcolor{keyword}{constexpr}\ TimeDelta\ operator\%(TimeDelta\ a)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00314\ \ \ \ \ \textcolor{keywordflow}{return}\ TimeDelta(}
\DoxyCodeLine{00315\ \ \ \ \ \ \ \ \ (is\_inf()\ ||\ a.is\_zero()\ ||\ a.is\_inf())\ ?\ delta\_\ :\ (delta\_\ \%\ a.delta\_));}
\DoxyCodeLine{00316\ \ \ \}}
\DoxyCodeLine{00317\ }
\DoxyCodeLine{00318\ \ \ \textcolor{keyword}{constexpr}\ TimeDelta\&\ operator\%=(TimeDelta\ other)\ \{}
\DoxyCodeLine{00319\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this}\ =\ (*\textcolor{keyword}{this}\ \%\ other);}
\DoxyCodeLine{00320\ \ \ \}}
\DoxyCodeLine{00321\ }
\DoxyCodeLine{00322\ \ \ \textcolor{comment}{//\ Comparison\ operators.}}
\DoxyCodeLine{00323\ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{bool}\ operator==(TimeDelta,\ TimeDelta)\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00324\ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{constexpr}\ std::strong\_ordering\ operator<=>(TimeDelta,}
\DoxyCodeLine{00325\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ TimeDelta)\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00326\ }
\DoxyCodeLine{00327\ \ \ \textcolor{comment}{//\ Returns\ this\ delta,\ ceiled/floored/rounded-\/away-\/from-\/zero\ to\ the\ nearest}}
\DoxyCodeLine{00328\ \ \ \textcolor{comment}{//\ multiple\ of\ |interval|.}}
\DoxyCodeLine{00329\ \ \ TimeDelta\ CeilToMultiple(TimeDelta\ interval)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00330\ \ \ TimeDelta\ FloorToMultiple(TimeDelta\ interval)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00331\ \ \ TimeDelta\ RoundToMultiple(TimeDelta\ interval)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00332\ }
\DoxyCodeLine{00333\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00334\ \ \ \textcolor{comment}{//\ Constructs\ a\ delta\ given\ the\ duration\ in\ microseconds.\ This\ is\ private}}
\DoxyCodeLine{00335\ \ \ \textcolor{comment}{//\ to\ avoid\ confusion\ by\ callers\ with\ an\ integer\ constructor.\ Use}}
\DoxyCodeLine{00336\ \ \ \textcolor{comment}{//\ base::Seconds,\ base::Milliseconds,\ etc.\ instead.}}
\DoxyCodeLine{00337\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{explicit}\ TimeDelta(int64\_t\ delta\_us)\ :\ delta\_(delta\_us)\ \{\}}
\DoxyCodeLine{00338\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{explicit}\ TimeDelta(\mbox{\hyperlink{classkiwi_1_1internal_1_1_clamped_numeric}{ClampedNumeric<int64\_t>}}\ delta\_us)}
\DoxyCodeLine{00339\ \ \ \ \ \ \ :\ delta\_(delta\_us)\ \{\}}
\DoxyCodeLine{00340\ }
\DoxyCodeLine{00341\ \ \ \textcolor{comment}{//\ Returns\ a\ double\ representation\ of\ this\ TimeDelta's\ tick\ count.\ \ In}}
\DoxyCodeLine{00342\ \ \ \textcolor{comment}{//\ particular,\ Max()/Min()\ are\ converted\ to\ +/-\/infinity.}}
\DoxyCodeLine{00343\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{double}\ ToDouble()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00344\ \ \ \ \ \textcolor{keywordflow}{if}\ (!is\_inf())\ \{}
\DoxyCodeLine{00345\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{double}\textcolor{keyword}{>}(delta\_);}
\DoxyCodeLine{00346\ \ \ \ \ \}}
\DoxyCodeLine{00347\ }
\DoxyCodeLine{00348\ \ \ \ \ \textcolor{keywordflow}{return}\ (delta\_\ <\ 0)\ ?\ -\/std::numeric\_limits<double>::infinity()}
\DoxyCodeLine{00349\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ std::numeric\_limits<double>::infinity();}
\DoxyCodeLine{00350\ \ \ \}}
\DoxyCodeLine{00351\ }
\DoxyCodeLine{00353\ \ \ \mbox{\hyperlink{classkiwi_1_1internal_1_1_clamped_numeric}{ClampedNumeric<int64\_t>}}\ delta\_\ =\ 0;}
\DoxyCodeLine{00354\ \};}
\DoxyCodeLine{00355\ }
\DoxyCodeLine{00356\ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{classkiwi_1_1_time_delta}{TimeDelta}}\ TimeDelta::operator+(\mbox{\hyperlink{classkiwi_1_1_time_delta}{TimeDelta}}\ other)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00357\ \ \ \textcolor{keywordflow}{if}\ (!other.is\_inf())\ \{}
\DoxyCodeLine{00358\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classkiwi_1_1_time_delta}{TimeDelta}}(delta\_\ +\ other.delta\_);}
\DoxyCodeLine{00359\ \ \ \}}
\DoxyCodeLine{00360\ }
\DoxyCodeLine{00361\ \ \ \textcolor{comment}{//\ Additions\ involving\ two\ infinities\ are\ only\ valid\ if\ signs\ match.}}
\DoxyCodeLine{00362\ \ \ assert(!is\_inf()\ ||\ (delta\_\ ==\ other.delta\_));}
\DoxyCodeLine{00363\ }
\DoxyCodeLine{00364\ \ \ \textcolor{keywordflow}{return}\ other;}
\DoxyCodeLine{00365\ \}}
\DoxyCodeLine{00366\ }
\DoxyCodeLine{00367\ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{classkiwi_1_1_time_delta}{TimeDelta}}\ TimeDelta::operator-\/(\mbox{\hyperlink{classkiwi_1_1_time_delta}{TimeDelta}}\ other)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00368\ \ \ \textcolor{keywordflow}{if}\ (!other.is\_inf())\ \{}
\DoxyCodeLine{00369\ \ \ \ \ \textcolor{keywordflow}{return}\ TimeDelta(delta\_\ -\/\ other.delta\_);}
\DoxyCodeLine{00370\ \ \ \}}
\DoxyCodeLine{00371\ }
\DoxyCodeLine{00372\ \ \ \textcolor{comment}{//\ Subtractions\ involving\ two\ infinities\ are\ only\ valid\ if\ signs\ differ.}}
\DoxyCodeLine{00373\ \ \ CHECK\_NE(int64\_t\{delta\_\},\ int64\_t\{other.delta\_\});}
\DoxyCodeLine{00374\ \ \ \textcolor{keywordflow}{return}\ (other.delta\_\ <\ 0)\ ?\ Max()\ :\ Min();}
\DoxyCodeLine{00375\ \}}
\DoxyCodeLine{00376\ }
\DoxyCodeLine{00377\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00378\ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{classkiwi_1_1_time_delta}{TimeDelta}}\ operator*(T\ a,\ \mbox{\hyperlink{classkiwi_1_1_time_delta}{TimeDelta}}\ td)\ \{}
\DoxyCodeLine{00379\ \ \ \textcolor{keywordflow}{return}\ td\ *\ a;}
\DoxyCodeLine{00380\ \}}
\DoxyCodeLine{00381\ }
\DoxyCodeLine{00382\ \textcolor{comment}{//\ For\ logging\ use\ only.}}
\DoxyCodeLine{00383\ BASE\_EXPORT\ std::ostream\&\ operator<<(std::ostream\&\ os,\ \mbox{\hyperlink{classkiwi_1_1_time_delta}{TimeDelta}}\ time\_delta);}
\DoxyCodeLine{00384\ }
\DoxyCodeLine{00385\ \textcolor{comment}{//\ TimeBase-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00386\ }
\DoxyCodeLine{00387\ \textcolor{comment}{//\ Do\ not\ reference\ the\ time\_internal::TimeBase\ template\ class\ directly.\ \ Please}}
\DoxyCodeLine{00388\ \textcolor{comment}{//\ use\ one\ of\ the\ time\ subclasses\ instead,\ and\ only\ reference\ the\ public}}
\DoxyCodeLine{00389\ \textcolor{comment}{//\ TimeBase\ members\ via\ those\ classes.}}
\DoxyCodeLine{00390\ \textcolor{keyword}{namespace\ }time\_internal\ \{}
\DoxyCodeLine{00391\ }
\DoxyCodeLine{00392\ \textcolor{comment}{//\ Provides\ value\ storage\ and\ comparison/math\ operations\ common\ to\ all\ time}}
\DoxyCodeLine{00393\ \textcolor{comment}{//\ classes.\ Each\ subclass\ provides\ for\ strong\ type-\/checking\ to\ ensure}}
\DoxyCodeLine{00394\ \textcolor{comment}{//\ semantically\ meaningful\ comparison/math\ of\ time\ values\ from\ the\ same\ clock}}
\DoxyCodeLine{00395\ \textcolor{comment}{//\ source\ or\ timeline.}}
\DoxyCodeLine{00396\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ TimeClass>}
\DoxyCodeLine{00397\ \textcolor{keyword}{class\ }TimeBase\ \{}
\DoxyCodeLine{00398\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00399\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ int64\_t\ kHoursPerDay\ =\ 24;}
\DoxyCodeLine{00400\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ int64\_t\ kSecondsPerMinute\ =\ 60;}
\DoxyCodeLine{00401\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ int64\_t\ kMinutesPerHour\ =\ 60;}
\DoxyCodeLine{00402\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ int64\_t\ kSecondsPerHour\ =}
\DoxyCodeLine{00403\ \ \ \ \ \ \ kSecondsPerMinute\ *\ kMinutesPerHour;}
\DoxyCodeLine{00404\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ int64\_t\ kMillisecondsPerSecond\ =\ 1000;}
\DoxyCodeLine{00405\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ int64\_t\ kMillisecondsPerDay\ =}
\DoxyCodeLine{00406\ \ \ \ \ \ \ kMillisecondsPerSecond\ *\ kSecondsPerHour\ *\ kHoursPerDay;}
\DoxyCodeLine{00407\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ int64\_t\ kMicrosecondsPerMillisecond\ =\ 1000;}
\DoxyCodeLine{00408\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ int64\_t\ kMicrosecondsPerSecond\ =}
\DoxyCodeLine{00409\ \ \ \ \ \ \ kMicrosecondsPerMillisecond\ *\ kMillisecondsPerSecond;}
\DoxyCodeLine{00410\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ int64\_t\ kMicrosecondsPerMinute\ =}
\DoxyCodeLine{00411\ \ \ \ \ \ \ kMicrosecondsPerSecond\ *\ kSecondsPerMinute;}
\DoxyCodeLine{00412\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ int64\_t\ kMicrosecondsPerHour\ =}
\DoxyCodeLine{00413\ \ \ \ \ \ \ kMicrosecondsPerMinute\ *\ kMinutesPerHour;}
\DoxyCodeLine{00414\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ int64\_t\ kMicrosecondsPerDay\ =}
\DoxyCodeLine{00415\ \ \ \ \ \ \ kMicrosecondsPerHour\ *\ kHoursPerDay;}
\DoxyCodeLine{00416\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ int64\_t\ kMicrosecondsPerWeek\ =\ kMicrosecondsPerDay\ *\ 7;}
\DoxyCodeLine{00417\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ int64\_t\ kNanosecondsPerMicrosecond\ =\ 1000;}
\DoxyCodeLine{00418\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ int64\_t\ kNanosecondsPerMillisecond\ =}
\DoxyCodeLine{00419\ \ \ \ \ \ \ kNanosecondsPerMicrosecond\ *\ kMicrosecondsPerMillisecond;}
\DoxyCodeLine{00420\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ int64\_t\ kNanosecondsPerSecond\ =}
\DoxyCodeLine{00421\ \ \ \ \ \ \ kNanosecondsPerMicrosecond\ *\ kMicrosecondsPerSecond;}
\DoxyCodeLine{00422\ }
\DoxyCodeLine{00423\ \ \ \textcolor{comment}{//\ TODO(crbug.com/40247732):\ Remove\ concept\ of\ "{}null"{}\ from\ base::Time.}}
\DoxyCodeLine{00424\ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00425\ \ \ \textcolor{comment}{//\ Warning:\ Be\ careful\ when\ writing\ code\ that\ performs\ math\ on\ time\ values,}}
\DoxyCodeLine{00426\ \ \ \textcolor{comment}{//\ since\ it's\ possible\ to\ produce\ a\ valid\ "{}zero"{}\ result\ that\ should\ not\ be}}
\DoxyCodeLine{00427\ \ \ \textcolor{comment}{//\ interpreted\ as\ a\ "{}null"{}\ value.\ If\ you\ find\ yourself\ using\ this\ method\ or}}
\DoxyCodeLine{00428\ \ \ \textcolor{comment}{//\ the\ zero-\/arg\ default\ constructor,\ please\ consider\ using\ an\ optional\ to}}
\DoxyCodeLine{00429\ \ \ \textcolor{comment}{//\ express\ the\ null\ state.}}
\DoxyCodeLine{00430\ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00431\ \ \ \textcolor{comment}{//\ Returns\ true\ if\ this\ object\ has\ not\ been\ initialized\ (probably).}}
\DoxyCodeLine{00432\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{bool}\ is\_null()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ us\_\ ==\ 0;\ \}}
\DoxyCodeLine{00433\ }
\DoxyCodeLine{00434\ \ \ \textcolor{comment}{//\ Returns\ true\ if\ this\ object\ represents\ the\ maximum/minimum\ time.}}
\DoxyCodeLine{00435\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{bool}\ is\_max()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this}\ ==\ Max();\ \}}
\DoxyCodeLine{00436\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{bool}\ is\_min()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this}\ ==\ Min();\ \}}
\DoxyCodeLine{00437\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{bool}\ is\_inf()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ is\_min()\ ||\ is\_max();\ \}}
\DoxyCodeLine{00438\ }
\DoxyCodeLine{00439\ \ \ \textcolor{comment}{//\ Returns\ the\ maximum/minimum\ times,\ which\ should\ be\ non-\/null\ and}}
\DoxyCodeLine{00440\ \ \ \textcolor{comment}{//\ greater/less\ than\ than\ any\ reasonable\ time\ with\ which\ we\ might\ compare\ it.}}
\DoxyCodeLine{00441\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ TimeClass\ Max()\ \{}
\DoxyCodeLine{00442\ \ \ \ \ \textcolor{keywordflow}{return}\ TimeClass(std::numeric\_limits<int64\_t>::max());}
\DoxyCodeLine{00443\ \ \ \}}
\DoxyCodeLine{00444\ }
\DoxyCodeLine{00445\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ TimeClass\ Min()\ \{}
\DoxyCodeLine{00446\ \ \ \ \ \textcolor{keywordflow}{return}\ TimeClass(std::numeric\_limits<int64\_t>::min());}
\DoxyCodeLine{00447\ \ \ \}}
\DoxyCodeLine{00448\ }
\DoxyCodeLine{00449\ \ \ \textcolor{comment}{//\ For\ legacy\ serialization\ only.\ When\ serializing\ to\ \`{}base::Value`,\ prefer}}
\DoxyCodeLine{00450\ \ \ \textcolor{comment}{//\ the\ helpers\ from\ //base/json/values\_util.h\ instead.\ Otherwise,\ use}}
\DoxyCodeLine{00451\ \ \ \textcolor{comment}{//\ \`{}Time::ToDeltaSinceWindowsEpoch()`\ for\ \`{}Time`\ and}}
\DoxyCodeLine{00452\ \ \ \textcolor{comment}{//\ \`{}TimeDelta::InMicroseconds()`\ for\ \`{}TimeDelta`.\ See\ http://crbug.com/634507.}}
\DoxyCodeLine{00453\ \ \ \textcolor{keyword}{constexpr}\ int64\_t\ ToInternalValue()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ us\_;\ \}}
\DoxyCodeLine{00454\ }
\DoxyCodeLine{00455\ \ \ \textcolor{comment}{//\ The\ amount\ of\ time\ since\ the\ origin\ (or\ "{}zero"{})\ point.\ This\ is\ a\ syntactic}}
\DoxyCodeLine{00456\ \ \ \textcolor{comment}{//\ convenience\ to\ aid\ in\ code\ readability,\ mainly\ for\ debugging/testing\ use}}
\DoxyCodeLine{00457\ \ \ \textcolor{comment}{//\ cases.}}
\DoxyCodeLine{00458\ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00459\ \ \ \textcolor{comment}{//\ Warning:\ While\ the\ Time\ subclass\ has\ a\ fixed\ origin\ point,\ the\ origin\ for}}
\DoxyCodeLine{00460\ \ \ \textcolor{comment}{//\ the\ other\ subclasses\ can\ vary\ each\ time\ the\ application\ is\ restarted.}}
\DoxyCodeLine{00461\ \ \ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{classkiwi_1_1_time_delta}{TimeDelta}}\ since\_origin()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00462\ }
\DoxyCodeLine{00463\ \ \ \textcolor{comment}{//\ Compute\ the\ difference\ between\ two\ times.}}
\DoxyCodeLine{00464\ \textcolor{preprocessor}{\#if\ !defined(\_\_aarch64\_\_)\ \&\&\ BUILDFLAG(IS\_ANDROID)}}
\DoxyCodeLine{00465\ \ \ NOINLINE\ \ \textcolor{comment}{//\ https://crbug.com/1369775}}
\DoxyCodeLine{00466\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00467\ \ \ \ \ \ \ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{classkiwi_1_1_time_delta}{TimeDelta}}}
\DoxyCodeLine{00468\ \ \ \ \ \ \ operator-\/(\textcolor{keyword}{const}\ TimeBase<TimeClass>\&\ other)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00469\ }
\DoxyCodeLine{00470\ \ \ \textcolor{comment}{//\ Return\ a\ new\ time\ modified\ by\ some\ delta.}}
\DoxyCodeLine{00471\ \ \ \textcolor{keyword}{constexpr}\ TimeClass\ operator+(\mbox{\hyperlink{classkiwi_1_1_time_delta}{TimeDelta}}\ delta)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00472\ \ \ \textcolor{keyword}{constexpr}\ TimeClass\ operator-\/(\mbox{\hyperlink{classkiwi_1_1_time_delta}{TimeDelta}}\ delta)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00473\ }
\DoxyCodeLine{00474\ \ \ \textcolor{comment}{//\ Modify\ by\ some\ time\ delta.}}
\DoxyCodeLine{00475\ \ \ \textcolor{keyword}{constexpr}\ TimeClass\&\ operator+=(\mbox{\hyperlink{classkiwi_1_1_time_delta}{TimeDelta}}\ delta)\ \{}
\DoxyCodeLine{00476\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}TimeClass\&\textcolor{keyword}{>}(*\textcolor{keyword}{this}\ =\ (*\textcolor{keyword}{this}\ +\ delta));}
\DoxyCodeLine{00477\ \ \ \}}
\DoxyCodeLine{00478\ \ \ \textcolor{keyword}{constexpr}\ TimeClass\&\ operator-\/=(\mbox{\hyperlink{classkiwi_1_1_time_delta}{TimeDelta}}\ delta)\ \{}
\DoxyCodeLine{00479\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}TimeClass\&\textcolor{keyword}{>}(*\textcolor{keyword}{this}\ =\ (*\textcolor{keyword}{this}\ -\/\ delta));}
\DoxyCodeLine{00480\ \ \ \}}
\DoxyCodeLine{00481\ }
\DoxyCodeLine{00482\ \ \ \textcolor{comment}{//\ Comparison\ operators}}
\DoxyCodeLine{00483\ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{bool}\ operator==(\textcolor{keyword}{const}\ TimeBase\&,\ \textcolor{keyword}{const}\ TimeBase\&)\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00484\ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{constexpr}\ std::strong\_ordering\ operator<=>(\textcolor{keyword}{const}\ TimeBase\&,}
\DoxyCodeLine{00485\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ TimeBase\&)\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00486\ }
\DoxyCodeLine{00487\ \ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00488\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{explicit}\ TimeBase(int64\_t\ us)\ :\ us\_(us)\ \{\}}
\DoxyCodeLine{00489\ }
\DoxyCodeLine{00490\ \ \ \textcolor{comment}{//\ Time\ value\ in\ a\ microsecond\ timebase.}}
\DoxyCodeLine{00491\ \ \ \mbox{\hyperlink{classkiwi_1_1internal_1_1_clamped_numeric}{ClampedNumeric<int64\_t>}}\ us\_;}
\DoxyCodeLine{00492\ \};}
\DoxyCodeLine{00493\ }
\DoxyCodeLine{00494\ \textcolor{preprocessor}{\#if\ BUILDFLAG(IS\_WIN)}}
\DoxyCodeLine{00495\ \textcolor{preprocessor}{\#if\ defined(ARCH\_CPU\_ARM64)}}
\DoxyCodeLine{00496\ \textcolor{comment}{//\ TSCTicksPerSecond\ is\ not\ supported\ on\ Windows\ on\ Arm\ systems\ because\ the}}
\DoxyCodeLine{00497\ \textcolor{comment}{//\ cycle-\/counting\ methods\ use\ the\ actual\ CPU\ cycle\ count,\ and\ not\ a\ consistent}}
\DoxyCodeLine{00498\ \textcolor{comment}{//\ incrementing\ counter.}}
\DoxyCodeLine{00499\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00500\ \textcolor{comment}{//\ Returns\ true\ if\ the\ CPU\ support\ constant\ rate\ TSC.}}
\DoxyCodeLine{00501\ [[nodiscard]]\ BASE\_EXPORT\ \textcolor{keywordtype}{bool}\ HasConstantRateTSC();}
\DoxyCodeLine{00502\ }
\DoxyCodeLine{00503\ \textcolor{comment}{//\ Returns\ the\ frequency\ of\ the\ TSC\ in\ ticks\ per\ second,\ or\ 0\ if\ it\ hasn't}}
\DoxyCodeLine{00504\ \textcolor{comment}{//\ been\ measured\ yet.\ Needs\ to\ be\ guarded\ with\ a\ call\ to\ HasConstantRateTSC().}}
\DoxyCodeLine{00505\ [[nodiscard]]\ BASE\_EXPORT\ \textcolor{keywordtype}{double}\ TSCTicksPerSecond();}
\DoxyCodeLine{00506\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00507\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ BUILDFLAG(IS\_WIN)}}
\DoxyCodeLine{00508\ }
\DoxyCodeLine{00509\ \}\ \ \textcolor{comment}{//\ namespace\ time\_internal}}
\DoxyCodeLine{00510\ }
\DoxyCodeLine{00511\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ TimeClass>}
\DoxyCodeLine{00512\ \textcolor{keyword}{inline}\ \textcolor{keyword}{constexpr}\ TimeClass\ operator+(\mbox{\hyperlink{classkiwi_1_1_time_delta}{TimeDelta}}\ delta,\ TimeClass\ t)\ \{}
\DoxyCodeLine{00513\ \ \ \textcolor{keywordflow}{return}\ t\ +\ delta;}
\DoxyCodeLine{00514\ \}}
\DoxyCodeLine{00515\ }
\DoxyCodeLine{00516\ \textcolor{comment}{//\ Time\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00517\ }
\DoxyCodeLine{00518\ \textcolor{comment}{//\ Represents\ a\ wall\ clock\ time\ in\ UTC.\ Values\ are\ not\ guaranteed\ to\ be}}
\DoxyCodeLine{00519\ \textcolor{comment}{//\ monotonically\ non-\/decreasing\ and\ are\ subject\ to\ large\ amounts\ of\ skew.}}
\DoxyCodeLine{00520\ \textcolor{comment}{//\ Time\ is\ stored\ internally\ as\ microseconds\ since\ the\ Windows\ epoch\ (1601).}}
\DoxyCodeLine{00521\ \textcolor{keyword}{class\ }BASE\_EXPORT\ Time\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classkiwi_1_1time__internal_1_1_time_base}{time\_internal::TimeBase}}<Time>\ \{}
\DoxyCodeLine{00522\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00523\ \ \ \textcolor{comment}{//\ Offset\ of\ UNIX\ epoch\ (1970-\/01-\/01\ 00:00:00\ UTC)\ from\ Windows\ FILETIME\ epoch}}
\DoxyCodeLine{00524\ \ \ \textcolor{comment}{//\ (1601-\/01-\/01\ 00:00:00\ UTC),\ in\ microseconds.\ This\ value\ is\ derived\ from\ the}}
\DoxyCodeLine{00525\ \ \ \textcolor{comment}{//\ following:\ ((1970-\/1601)*365+89)*24*60*60*1000*1000,\ where\ 89\ is\ the\ number}}
\DoxyCodeLine{00526\ \ \ \textcolor{comment}{//\ of\ leap\ year\ days\ between\ 1601\ and\ 1970:\ (1970-\/1601)/4\ excluding\ 1700,}}
\DoxyCodeLine{00527\ \ \ \textcolor{comment}{//\ 1800,\ and\ 1900.}}
\DoxyCodeLine{00528\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ int64\_t\ kTimeTToMicrosecondsOffset\ =}
\DoxyCodeLine{00529\ \ \ \ \ \ \ INT64\_C(11644473600000000);}
\DoxyCodeLine{00530\ }
\DoxyCodeLine{00531\ \textcolor{preprocessor}{\#if\ BUILDFLAG(IS\_WIN)}}
\DoxyCodeLine{00532\ \ \ \textcolor{comment}{//\ To\ avoid\ overflow\ in\ QPC\ to\ Microseconds\ calculations,\ since\ we\ multiply}}
\DoxyCodeLine{00533\ \ \ \textcolor{comment}{//\ by\ kMicrosecondsPerSecond,\ then\ the\ QPC\ value\ should\ not\ exceed}}
\DoxyCodeLine{00534\ \ \ \textcolor{comment}{//\ (2\string^63\ -\/\ 1)\ /\ 1E6.\ If\ it\ exceeds\ that\ threshold,\ we\ divide\ then\ multiply.}}
\DoxyCodeLine{00535\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ int64\_t\ kQPCOverflowThreshold\ =\ INT64\_C(0x8637BD05AF7);}
\DoxyCodeLine{00536\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00537\ }
\DoxyCodeLine{00538\ \textcolor{comment}{//\ kExplodedMinYear\ and\ kExplodedMaxYear\ define\ the\ platform-\/specific\ limits}}
\DoxyCodeLine{00539\ \textcolor{comment}{//\ for\ values\ passed\ to\ FromUTCExploded()\ and\ FromLocalExploded().\ Those}}
\DoxyCodeLine{00540\ \textcolor{comment}{//\ functions\ will\ return\ false\ if\ passed\ values\ outside\ these\ limits.\ The\ limits}}
\DoxyCodeLine{00541\ \textcolor{comment}{//\ are\ inclusive,\ meaning\ that\ the\ API\ should\ support\ all\ dates\ within\ a\ given}}
\DoxyCodeLine{00542\ \textcolor{comment}{//\ limit\ year.}}
\DoxyCodeLine{00543\ \textcolor{comment}{//}}
\DoxyCodeLine{00544\ \textcolor{comment}{//\ WARNING:\ These\ are\ not\ the\ same\ limits\ for\ the\ inverse\ functionality,}}
\DoxyCodeLine{00545\ \textcolor{comment}{//\ UTCExplode()\ and\ LocalExplode().\ See\ method\ comments\ for\ further\ details.}}
\DoxyCodeLine{00546\ \textcolor{preprocessor}{\#if\ BUILDFLAG(IS\_WIN)}}
\DoxyCodeLine{00547\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ kExplodedMinYear\ =\ 1601;}
\DoxyCodeLine{00548\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ kExplodedMaxYear\ =\ 30827;}
\DoxyCodeLine{00549\ \textcolor{preprocessor}{\#elif\ BUILDFLAG(IS\_IOS)\ \&\&\ !\_\_LP64\_\_}}
\DoxyCodeLine{00550\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ kExplodedMinYear\ =\ std::numeric\_limits<int>::min();}
\DoxyCodeLine{00551\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ kExplodedMaxYear\ =\ std::numeric\_limits<int>::max();}
\DoxyCodeLine{00552\ \textcolor{preprocessor}{\#elif\ BUILDFLAG(IS\_APPLE)}}
\DoxyCodeLine{00553\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ kExplodedMinYear\ =\ 1902;}
\DoxyCodeLine{00554\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ kExplodedMaxYear\ =\ std::numeric\_limits<int>::max();}
\DoxyCodeLine{00555\ \textcolor{preprocessor}{\#elif\ BUILDFLAG(IS\_ANDROID)}}
\DoxyCodeLine{00556\ \ \ \textcolor{comment}{//\ Though\ we\ use\ 64-\/bit\ time\ APIs\ on\ both\ 32\ and\ 64\ bit\ Android,\ some\ OS}}
\DoxyCodeLine{00557\ \ \ \textcolor{comment}{//\ versions\ like\ KitKat\ (ARM\ but\ not\ x86\ emulator)\ can't\ handle\ some\ early}}
\DoxyCodeLine{00558\ \ \ \textcolor{comment}{//\ dates\ (e.g.\ before\ 1170).\ So\ we\ set\ min\ conservatively\ here.}}
\DoxyCodeLine{00559\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ kExplodedMinYear\ =\ 1902;}
\DoxyCodeLine{00560\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ kExplodedMaxYear\ =\ std::numeric\_limits<int>::max();}
\DoxyCodeLine{00561\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00562\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ kExplodedMinYear\ =}
\DoxyCodeLine{00563\ \ \ \ \ \ \ (\textcolor{keyword}{sizeof}(time\_t)\ ==\ 4\ ?\ 1902\ :\ std::numeric\_limits<int>::min());}
\DoxyCodeLine{00564\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ kExplodedMaxYear\ =}
\DoxyCodeLine{00565\ \ \ \ \ \ \ (\textcolor{keyword}{sizeof}(time\_t)\ ==\ 4\ ?\ 2037\ :\ std::numeric\_limits<int>::max());}
\DoxyCodeLine{00566\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00567\ }
\DoxyCodeLine{00568\ \ \ \textcolor{comment}{//\ Represents\ an\ exploded\ time.\ This\ is\ kind\ of\ like\ the\ Win32\ SYSTEMTIME}}
\DoxyCodeLine{00569\ \ \ \textcolor{comment}{//\ structure\ or\ the\ Unix\ "{}struct\ tm"{}\ with\ a\ few\ additions\ and\ changes\ to}}
\DoxyCodeLine{00570\ \ \ \textcolor{comment}{//\ prevent\ errors.}}
\DoxyCodeLine{00571\ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00572\ \ \ \textcolor{comment}{//\ This\ structure\ always\ represents\ dates\ in\ the\ Gregorian\ calendar\ and\ always}}
\DoxyCodeLine{00573\ \ \ \textcolor{comment}{//\ encodes\ day\_of\_week\ as\ Sunday==0,\ Monday==1,\ ..,\ Saturday==6.\ This\ means}}
\DoxyCodeLine{00574\ \ \ \textcolor{comment}{//\ that\ base::Time::LocalExplode\ and\ base::Time::FromLocalExploded\ only}}
\DoxyCodeLine{00575\ \ \ \textcolor{comment}{//\ respect\ the\ current\ local\ time\ zone\ in\ the\ conversion\ and\ do\ *not*\ use\ a}}
\DoxyCodeLine{00576\ \ \ \textcolor{comment}{//\ calendar\ or\ day-\/of-\/week\ encoding\ from\ the\ current\ locale.}}
\DoxyCodeLine{00577\ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00578\ \ \ \textcolor{comment}{//\ NOTE:\ Generally,\ you\ should\ prefer\ the\ functions\ in}}
\DoxyCodeLine{00579\ \ \ \textcolor{comment}{//\ base/i18n/time\_formatting.h\ (in\ particular,}}
\DoxyCodeLine{00580\ \ \ \textcolor{comment}{//\ \`{}UnlocalizedTimeFormatWithPattern()`)\ over\ trying\ to\ create\ a\ formatted}}
\DoxyCodeLine{00581\ \ \ \textcolor{comment}{//\ time\ string\ from\ this\ object.}}
\DoxyCodeLine{00582\ \ \ \textcolor{keyword}{struct\ }BASE\_EXPORT\ \mbox{\hyperlink{structkiwi_1_1_time_1_1_exploded}{Exploded}}\ \{}
\DoxyCodeLine{00583\ \ \ \ \ \textcolor{keywordtype}{int}\ year;\ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Four\ digit\ year\ "{}2007"{}}}
\DoxyCodeLine{00584\ \ \ \ \ \textcolor{keywordtype}{int}\ month;\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ 1-\/based\ month\ (values\ 1\ =\ January,\ etc.)}}
\DoxyCodeLine{00585\ \ \ \ \ \textcolor{keywordtype}{int}\ day\_of\_week;\ \ \ \textcolor{comment}{//\ 0-\/based\ day\ of\ week\ (0\ =\ Sunday,\ etc.)}}
\DoxyCodeLine{00586\ \ \ \ \ \textcolor{keywordtype}{int}\ day\_of\_month;\ \ \textcolor{comment}{//\ 1-\/based\ day\ of\ month\ (1-\/31)}}
\DoxyCodeLine{00587\ \ \ \ \ \textcolor{keywordtype}{int}\ hour;\ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Hour\ within\ the\ current\ day\ (0-\/23)}}
\DoxyCodeLine{00588\ \ \ \ \ \textcolor{keywordtype}{int}\ minute;\ \ \ \ \ \ \ \ \textcolor{comment}{//\ Minute\ within\ the\ current\ hour\ (0-\/59)}}
\DoxyCodeLine{00589\ \ \ \ \ \textcolor{keywordtype}{int}\ second;\ \ \ \ \ \ \ \ \textcolor{comment}{//\ Second\ within\ the\ current\ minute\ (0-\/59\ plus\ leap}}
\DoxyCodeLine{00590\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \ \ seconds\ which\ may\ take\ it\ up\ to\ 60).}}
\DoxyCodeLine{00591\ \ \ \ \ \textcolor{keywordtype}{int}\ millisecond;\ \ \ \textcolor{comment}{//\ Milliseconds\ within\ the\ current\ second\ (0-\/999)}}
\DoxyCodeLine{00592\ }
\DoxyCodeLine{00593\ \ \ \ \ \textcolor{comment}{//\ A\ cursory\ test\ for\ whether\ the\ data\ members\ are\ within\ their}}
\DoxyCodeLine{00594\ \ \ \ \ \textcolor{comment}{//\ respective\ ranges.\ A\ 'true'\ return\ value\ does\ not\ guarantee\ the}}
\DoxyCodeLine{00595\ \ \ \ \ \textcolor{comment}{//\ Exploded\ value\ can\ be\ successfully\ converted\ to\ a\ Time\ value.}}
\DoxyCodeLine{00596\ \ \ \ \ \textcolor{keywordtype}{bool}\ HasValidValues()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00597\ \ \ \};}
\DoxyCodeLine{00598\ }
\DoxyCodeLine{00599\ \ \ \textcolor{comment}{//\ TODO(crbug.com/40247732):\ Remove\ concept\ of\ "{}null"{}\ from\ base::Time.}}
\DoxyCodeLine{00600\ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00601\ \ \ \textcolor{comment}{//\ Warning:\ Be\ careful\ when\ writing\ code\ that\ performs\ math\ on\ time\ values,}}
\DoxyCodeLine{00602\ \ \ \textcolor{comment}{//\ since\ it's\ possible\ to\ produce\ a\ valid\ "{}zero"{}\ result\ that\ should\ not\ be}}
\DoxyCodeLine{00603\ \ \ \textcolor{comment}{//\ interpreted\ as\ a\ "{}null"{}\ value.\ If\ you\ find\ yourself\ using\ this\ constructor}}
\DoxyCodeLine{00604\ \ \ \textcolor{comment}{//\ or\ the\ is\_null()\ method,\ please\ consider\ using\ an\ optional\ to\ express\ the}}
\DoxyCodeLine{00605\ \ \ \textcolor{comment}{//\ null\ state.}}
\DoxyCodeLine{00606\ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00607\ \ \ \textcolor{comment}{//\ Contains\ the\ NULL\ time.\ Use\ Time::Now()\ to\ get\ the\ current\ time.}}
\DoxyCodeLine{00608\ \ \ \textcolor{keyword}{constexpr}\ Time()\ :\ TimeBase(0)\ \{\}}
\DoxyCodeLine{00609\ }
\DoxyCodeLine{00610\ \ \ \textcolor{comment}{//\ Returns\ the\ time\ for\ epoch\ in\ Unix-\/like\ system\ (Jan\ 1,\ 1970).}}
\DoxyCodeLine{00611\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{classkiwi_1_1_time}{Time}}\ UnixEpoch()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classkiwi_1_1_time}{Time}}(kTimeTToMicrosecondsOffset);\ \}}
\DoxyCodeLine{00612\ }
\DoxyCodeLine{00613\ \ \ \textcolor{comment}{//\ Returns\ the\ current\ time.\ Watch\ out,\ the\ system\ might\ adjust\ its\ clock}}
\DoxyCodeLine{00614\ \ \ \textcolor{comment}{//\ in\ which\ case\ time\ will\ actually\ go\ backwards.\ We\ don't\ guarantee\ that}}
\DoxyCodeLine{00615\ \ \ \textcolor{comment}{//\ times\ are\ increasing,\ or\ that\ two\ calls\ to\ Now()\ won't\ be\ the\ same.}}
\DoxyCodeLine{00616\ \ \ \textcolor{keyword}{static}\ Time\ Now();}
\DoxyCodeLine{00617\ }
\DoxyCodeLine{00618\ \ \ \textcolor{comment}{//\ Returns\ the\ current\ time.\ Same\ as\ Now()\ except\ that\ this\ function\ always}}
\DoxyCodeLine{00619\ \ \ \textcolor{comment}{//\ uses\ system\ time\ so\ that\ there\ are\ no\ discrepancies\ between\ the\ returned}}
\DoxyCodeLine{00620\ \ \ \textcolor{comment}{//\ time\ and\ system\ time\ even\ on\ virtual\ environments\ including\ our\ test\ bot.}}
\DoxyCodeLine{00621\ \ \ \textcolor{comment}{//\ For\ timing\ sensitive\ unittests,\ this\ function\ should\ be\ used.}}
\DoxyCodeLine{00622\ \ \ \textcolor{keyword}{static}\ Time\ NowFromSystemTime();}
\DoxyCodeLine{00623\ }
\DoxyCodeLine{00624\ \ \ \textcolor{comment}{//\ Converts\ to/from\ TimeDeltas\ relative\ to\ the\ Windows\ epoch\ (1601-\/01-\/01}}
\DoxyCodeLine{00625\ \ \ \textcolor{comment}{//\ 00:00:00\ UTC).}}
\DoxyCodeLine{00626\ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00627\ \ \ \textcolor{comment}{//\ For\ serialization,\ when\ handling\ \`{}base::Value`,\ prefer\ the\ helpers\ in}}
\DoxyCodeLine{00628\ \ \ \textcolor{comment}{//\ //base/json/values\_util.h\ instead.\ Otherwise,\ use\ these\ methods\ for}}
\DoxyCodeLine{00629\ \ \ \textcolor{comment}{//\ opaque\ serialization\ and\ deserialization,\ e.g.}}
\DoxyCodeLine{00630\ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00631\ \ \ \textcolor{comment}{//\ \ \ //\ Serialization:}}
\DoxyCodeLine{00632\ \ \ \textcolor{comment}{//\ \ \ base::Time\ last\_updated\ =\ ...;}}
\DoxyCodeLine{00633\ \ \ \textcolor{comment}{//\ \ \ SaveToDatabase(last\_updated.ToDeltaSinceWindowsEpoch().InMicroseconds());}}
\DoxyCodeLine{00634\ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00635\ \ \ \textcolor{comment}{//\ \ \ //\ Deserialization:}}
\DoxyCodeLine{00636\ \ \ \textcolor{comment}{//\ \ \ base::Time\ last\_updated\ =\ base::Time::FromDeltaSinceWindowsEpoch(}}
\DoxyCodeLine{00637\ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ base::Microseconds(LoadFromDatabase()));}}
\DoxyCodeLine{00638\ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00639\ \ \ \textcolor{comment}{//\ Do\ not\ use\ \`{}FromInternalValue()`\ or\ \`{}ToInternalValue()`\ for\ this\ purpose.}}
\DoxyCodeLine{00640\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ Time\ FromDeltaSinceWindowsEpoch(TimeDelta\ delta)\ \{}
\DoxyCodeLine{00641\ \ \ \ \ \textcolor{keywordflow}{return}\ Time(delta.InMicroseconds());}
\DoxyCodeLine{00642\ \ \ \}}
\DoxyCodeLine{00643\ }
\DoxyCodeLine{00644\ \ \ \textcolor{keyword}{constexpr}\ TimeDelta\ ToDeltaSinceWindowsEpoch()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00645\ \ \ \ \ \textcolor{keywordflow}{return}\ Microseconds(us\_);}
\DoxyCodeLine{00646\ \ \ \}}
\DoxyCodeLine{00647\ }
\DoxyCodeLine{00648\ \ \ \textcolor{comment}{//\ Converts\ to/from\ time\_t\ in\ UTC\ and\ a\ Time\ class.}}
\DoxyCodeLine{00649\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ Time\ FromTimeT(time\_t\ tt);}
\DoxyCodeLine{00650\ \ \ \textcolor{keyword}{constexpr}\ time\_t\ ToTimeT()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00651\ }
\DoxyCodeLine{00652\ \ \ \textcolor{comment}{//\ Converts\ time\ to/from\ a\ number\ of\ seconds\ since\ the\ Unix\ epoch\ (Jan\ 1,}}
\DoxyCodeLine{00653\ \ \ \textcolor{comment}{//\ 1970).}}
\DoxyCodeLine{00654\ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00655\ \ \ \textcolor{comment}{//\ TODO(crbug.com/40286582):\ Add\ integral\ versions\ and\ use\ them.}}
\DoxyCodeLine{00656\ \ \ \textcolor{comment}{//\ TODO(crbug.com/40286584):\ Add\ ...PreservingNull()\ versions;\ see\ comments\ in}}
\DoxyCodeLine{00657\ \ \ \textcolor{comment}{//\ the\ implementation\ of\ FromSecondsSinceUnixEpoch().}}
\DoxyCodeLine{00658\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ Time\ FromSecondsSinceUnixEpoch(\textcolor{keywordtype}{double}\ dt);}
\DoxyCodeLine{00659\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{double}\ InSecondsFSinceUnixEpoch()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00660\ }
\DoxyCodeLine{00661\ \textcolor{preprocessor}{\#if\ BUILDFLAG(IS\_POSIX)\ ||\ BUILDFLAG(IS\_FUCHSIA)}}
\DoxyCodeLine{00662\ \ \ \textcolor{comment}{//\ Converts\ the\ timespec\ structure\ to\ time.\ MacOS\ X\ 10.8.3\ (and\ tentatively,}}
\DoxyCodeLine{00663\ \ \ \textcolor{comment}{//\ earlier\ versions)\ will\ have\ the\ |ts|'s\ tv\_nsec\ component\ zeroed\ out,}}
\DoxyCodeLine{00664\ \ \ \textcolor{comment}{//\ having\ a\ 1\ second\ resolution,\ which\ agrees\ with}}
\DoxyCodeLine{00665\ \ \ \textcolor{comment}{//\ https://developer.apple.com/legacy/library/\#technotes/tn/tn1150.html\#HFSPlusDates.}}
\DoxyCodeLine{00666\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ Time\ FromTimeSpec(\textcolor{keyword}{const}\ timespec\&\ ts);}
\DoxyCodeLine{00667\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00668\ }
\DoxyCodeLine{00669\ \ \ \textcolor{comment}{//\ Converts\ to/from\ a\ number\ of\ milliseconds\ since\ the\ Unix\ epoch.}}
\DoxyCodeLine{00670\ \ \ \textcolor{comment}{//\ TODO(crbug.com/40286584):\ Add\ ...PreservingNull()\ versions;\ see\ comments\ in}}
\DoxyCodeLine{00671\ \ \ \textcolor{comment}{//\ the\ implementation\ of\ FromMillisecondsSinceUnixEpoch().}}
\DoxyCodeLine{00672\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ Time\ FromMillisecondsSinceUnixEpoch(int64\_t\ dt);}
\DoxyCodeLine{00673\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ Time\ FromMillisecondsSinceUnixEpoch(\textcolor{keywordtype}{double}\ dt);}
\DoxyCodeLine{00674\ \ \ \textcolor{comment}{//\ Explicitly\ forward\ calls\ with\ smaller\ integral\ types\ to\ the\ int64\_t}}
\DoxyCodeLine{00675\ \ \ \textcolor{comment}{//\ version;\ otherwise\ such\ calls\ would\ need\ to\ manually\ cast\ their\ args\ to}}
\DoxyCodeLine{00676\ \ \ \textcolor{comment}{//\ int64\_t,\ since\ the\ compiler\ isn't\ sure\ whether\ to\ promote\ to\ int64\_t\ or}}
\DoxyCodeLine{00677\ \ \ \textcolor{comment}{//\ double.}}
\DoxyCodeLine{00678\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00679\ \ \ \ \ \textcolor{keyword}{requires}(std::integral<T>\ \&\&\ !std::same\_as<T,\ int64\_t>\ \&\&}
\DoxyCodeLine{00680\ \ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{keyword}{sizeof}(T)\ <\ \textcolor{keyword}{sizeof}(int64\_t)\ ||}
\DoxyCodeLine{00681\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{keyword}{sizeof}(T)\ ==\ \textcolor{keyword}{sizeof}(int64\_t)\ \&\&\ std::is\_signed\_v<T>)))}
\DoxyCodeLine{00682\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ Time\ FromMillisecondsSinceUnixEpoch(T\ ms\_since\_epoch)\ \{}
\DoxyCodeLine{00683\ \ \ \ \ \textcolor{keywordflow}{return}\ FromMillisecondsSinceUnixEpoch(int64\_t\{ms\_since\_epoch\});}
\DoxyCodeLine{00684\ \ \ \}}
\DoxyCodeLine{00685\ \ \ \textcolor{keyword}{constexpr}\ int64\_t\ InMillisecondsSinceUnixEpoch()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00686\ \ \ \textcolor{comment}{//\ Don't\ use\ InMillisecondsFSinceUnixEpoch()\ in\ new\ code,\ since\ it\ contains\ a}}
\DoxyCodeLine{00687\ \ \ \textcolor{comment}{//\ subtle\ hack\ (only\ exactly\ 1601-\/01-\/01\ 00:00\ UTC\ is\ represented\ as\ 1970-\/01-\/01}}
\DoxyCodeLine{00688\ \ \ \textcolor{comment}{//\ 00:00\ UTC),\ and\ that\ is\ not\ appropriate\ for\ general\ use.\ Try\ to\ use}}
\DoxyCodeLine{00689\ \ \ \textcolor{comment}{//\ InMillisecondsFSinceUnixEpochIgnoringNull()\ unless\ you\ have\ a\ very\ good}}
\DoxyCodeLine{00690\ \ \ \textcolor{comment}{//\ reason\ to\ use\ InMillisecondsFSinceUnixEpoch().}}
\DoxyCodeLine{00691\ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00692\ \ \ \textcolor{comment}{//\ TODO(crbug.com/40286584):\ Rename\ the\ no-\/suffix\ version\ to}}
\DoxyCodeLine{00693\ \ \ \textcolor{comment}{//\ "{}...PreservingNull()"{}\ and\ remove\ the\ suffix\ from\ the\ other\ version,\ to}}
\DoxyCodeLine{00694\ \ \ \textcolor{comment}{//\ guide\ people\ to\ the\ preferable\ API.}}
\DoxyCodeLine{00695\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{double}\ InMillisecondsFSinceUnixEpoch()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00696\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{double}\ InMillisecondsFSinceUnixEpochIgnoringNull()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00697\ }
\DoxyCodeLine{00698\ \textcolor{preprocessor}{\#if\ BUILDFLAG(IS\_POSIX)\ ||\ BUILDFLAG(IS\_FUCHSIA)}}
\DoxyCodeLine{00699\ \ \ \textcolor{keyword}{static}\ Time\ FromTimeVal(\textcolor{keyword}{struct}\ timeval\ t);}
\DoxyCodeLine{00700\ \ \ \textcolor{keyword}{struct\ }timeval\ ToTimeVal()\ const;}
\DoxyCodeLine{00701\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00702\ }
\DoxyCodeLine{00703\ \textcolor{preprocessor}{\#if\ BUILDFLAG(IS\_FUCHSIA)}}
\DoxyCodeLine{00704\ \ \ \textcolor{keyword}{static}\ Time\ FromZxTime(zx\_time\_t\ time);}
\DoxyCodeLine{00705\ \ \ zx\_time\_t\ ToZxTime()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00706\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00707\ }
\DoxyCodeLine{00708\ \textcolor{preprocessor}{\#if\ BUILDFLAG(IS\_APPLE)}}
\DoxyCodeLine{00709\ \ \ \textcolor{keyword}{static}\ Time\ FromCFAbsoluteTime(CFAbsoluteTime\ t);}
\DoxyCodeLine{00710\ \ \ CFAbsoluteTime\ ToCFAbsoluteTime()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00711\ \textcolor{preprocessor}{\#if\ defined(\_\_OBJC\_\_)}}
\DoxyCodeLine{00712\ \ \ \textcolor{keyword}{static}\ Time\ FromNSDate(NSDate*\ date);}
\DoxyCodeLine{00713\ \ \ NSDate*\ ToNSDate()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00714\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00715\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00716\ }
\DoxyCodeLine{00717\ \textcolor{preprocessor}{\#if\ BUILDFLAG(IS\_WIN)}}
\DoxyCodeLine{00718\ \ \ \textcolor{keyword}{static}\ Time\ FromFileTime(FILETIME\ ft);}
\DoxyCodeLine{00719\ \ \ FILETIME\ ToFileTime()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00720\ }
\DoxyCodeLine{00721\ \ \ \textcolor{comment}{//\ The\ minimum\ time\ of\ a\ low\ resolution\ timer.\ \ This\ is\ basically\ a\ windows}}
\DoxyCodeLine{00722\ \ \ \textcolor{comment}{//\ constant\ of\ \string~15.6ms.\ \ While\ it\ does\ vary\ on\ some\ older\ OS\ versions,\ we'll}}
\DoxyCodeLine{00723\ \ \ \textcolor{comment}{//\ treat\ it\ as\ static\ across\ all\ windows\ versions.}}
\DoxyCodeLine{00724\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ kMinLowResolutionThresholdMs\ =\ 16;}
\DoxyCodeLine{00725\ }
\DoxyCodeLine{00726\ \ \ \textcolor{comment}{//\ Enable\ or\ disable\ Windows\ high\ resolution\ timer.}}
\DoxyCodeLine{00727\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ EnableHighResolutionTimer(\textcolor{keywordtype}{bool}\ enable);}
\DoxyCodeLine{00728\ }
\DoxyCodeLine{00729\ \ \ \textcolor{comment}{//\ Activates\ or\ deactivates\ the\ high\ resolution\ timer\ based\ on\ the\ |activate|}}
\DoxyCodeLine{00730\ \ \ \textcolor{comment}{//\ flag.\ \ If\ the\ HighResolutionTimer\ is\ not\ Enabled\ (see}}
\DoxyCodeLine{00731\ \ \ \textcolor{comment}{//\ EnableHighResolutionTimer),\ this\ function\ will\ return\ false.\ \ Otherwise}}
\DoxyCodeLine{00732\ \ \ \textcolor{comment}{//\ returns\ true.\ \ Each\ successful\ activate\ call\ must\ be\ paired\ with\ a}}
\DoxyCodeLine{00733\ \ \ \textcolor{comment}{//\ subsequent\ deactivate\ call.}}
\DoxyCodeLine{00734\ \ \ \textcolor{comment}{//\ All\ callers\ to\ activate\ the\ high\ resolution\ timer\ must\ eventually\ call}}
\DoxyCodeLine{00735\ \ \ \textcolor{comment}{//\ this\ function\ to\ deactivate\ the\ high\ resolution\ timer.}}
\DoxyCodeLine{00736\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ ActivateHighResolutionTimer(\textcolor{keywordtype}{bool}\ activate);}
\DoxyCodeLine{00737\ }
\DoxyCodeLine{00738\ \ \ \textcolor{comment}{//\ Returns\ true\ if\ the\ high\ resolution\ timer\ is\ both\ enabled\ and\ activated.}}
\DoxyCodeLine{00739\ \ \ \textcolor{comment}{//\ This\ is\ provided\ for\ testing\ only,\ and\ is\ not\ tracked\ in\ a\ thread-\/safe}}
\DoxyCodeLine{00740\ \ \ \textcolor{comment}{//\ way.}}
\DoxyCodeLine{00741\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ IsHighResolutionTimerInUse();}
\DoxyCodeLine{00742\ }
\DoxyCodeLine{00743\ \ \ \textcolor{comment}{//\ The\ following\ two\ functions\ are\ used\ to\ report\ the\ fraction\ of\ elapsed\ time}}
\DoxyCodeLine{00744\ \ \ \textcolor{comment}{//\ that\ the\ high\ resolution\ timer\ is\ activated.}}
\DoxyCodeLine{00745\ \ \ \textcolor{comment}{//\ ResetHighResolutionTimerUsage()\ resets\ the\ cumulative\ usage\ and\ starts\ the}}
\DoxyCodeLine{00746\ \ \ \textcolor{comment}{//\ measurement\ interval\ and\ GetHighResolutionTimerUsage()\ returns\ the}}
\DoxyCodeLine{00747\ \ \ \textcolor{comment}{//\ percentage\ of\ time\ since\ the\ reset\ that\ the\ high\ resolution\ timer\ was}}
\DoxyCodeLine{00748\ \ \ \textcolor{comment}{//\ activated.}}
\DoxyCodeLine{00749\ \ \ \textcolor{comment}{//\ ResetHighResolutionTimerUsage()\ must\ be\ called\ at\ least\ once\ before\ calling}}
\DoxyCodeLine{00750\ \ \ \textcolor{comment}{//\ GetHighResolutionTimerUsage();\ otherwise\ the\ usage\ result\ would\ be}}
\DoxyCodeLine{00751\ \ \ \textcolor{comment}{//\ undefined.}}
\DoxyCodeLine{00752\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ ResetHighResolutionTimerUsage();}
\DoxyCodeLine{00753\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{double}\ GetHighResolutionTimerUsage();}
\DoxyCodeLine{00754\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ BUILDFLAG(IS\_WIN)}}
\DoxyCodeLine{00755\ }
\DoxyCodeLine{00756\ \ \ \textcolor{comment}{//\ Converts\ an\ exploded\ structure\ representing\ either\ the\ local\ time\ or\ UTC}}
\DoxyCodeLine{00757\ \ \ \textcolor{comment}{//\ into\ a\ Time\ class.\ Returns\ false\ on\ a\ failure\ when,\ for\ example,\ a\ day\ of}}
\DoxyCodeLine{00758\ \ \ \textcolor{comment}{//\ month\ is\ set\ to\ 31\ on\ a\ 28-\/30\ day\ month.\ Returns\ Time(0)\ on\ overflow.}}
\DoxyCodeLine{00759\ \ \ \textcolor{comment}{//\ FromLocalExploded\ respects\ the\ current\ time\ zone\ but\ does\ not\ attempt\ to}}
\DoxyCodeLine{00760\ \ \ \textcolor{comment}{//\ use\ the\ calendar\ or\ day-\/of-\/week\ encoding\ from\ the\ current\ locale\ -\/\ see\ the}}
\DoxyCodeLine{00761\ \ \ \textcolor{comment}{//\ comments\ on\ Exploded\ for\ more\ information.}}
\DoxyCodeLine{00762\ \ \ [[nodiscard]]\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ FromUTCExploded(\textcolor{keyword}{const}\ Exploded\&\ exploded,}
\DoxyCodeLine{00763\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Time*\ time)\ \{}
\DoxyCodeLine{00764\ \ \ \ \ \textcolor{keywordflow}{return}\ FromExploded(\textcolor{keyword}{false},\ exploded,\ time);}
\DoxyCodeLine{00765\ \ \ \}}
\DoxyCodeLine{00766\ \ \ [[nodiscard]]\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ FromLocalExploded(\textcolor{keyword}{const}\ Exploded\&\ exploded,}
\DoxyCodeLine{00767\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Time*\ time)\ \{}
\DoxyCodeLine{00768\ \ \ \ \ \textcolor{keywordflow}{return}\ FromExploded(\textcolor{keyword}{true},\ exploded,\ time);}
\DoxyCodeLine{00769\ \ \ \}}
\DoxyCodeLine{00770\ }
\DoxyCodeLine{00771\ \ \ \textcolor{comment}{//\ Converts\ a\ string\ representation\ of\ time\ to\ a\ Time\ object.}}
\DoxyCodeLine{00772\ \ \ \textcolor{comment}{//\ An\ example\ of\ a\ time\ string\ which\ is\ converted\ is\ as\ below:-\/}}
\DoxyCodeLine{00773\ \ \ \textcolor{comment}{//\ "{}Tue,\ 15\ Nov\ 1994\ 12:45:26\ GMT"{}.\ If\ the\ timezone\ is\ not\ specified}}
\DoxyCodeLine{00774\ \ \ \textcolor{comment}{//\ in\ the\ input\ string,\ FromString\ assumes\ local\ time\ and\ FromUTCString}}
\DoxyCodeLine{00775\ \ \ \textcolor{comment}{//\ assumes\ UTC.\ A\ timezone\ that\ cannot\ be\ parsed\ (e.g.\ "{}UTC"{}\ which\ is\ not}}
\DoxyCodeLine{00776\ \ \ \textcolor{comment}{//\ specified\ in\ RFC822)\ is\ treated\ as\ if\ the\ timezone\ is\ not\ specified.}}
\DoxyCodeLine{00777\ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00778\ \ \ \textcolor{comment}{//\ WARNING:\ the\ underlying\ converter\ is\ very\ permissive.\ For\ example:\ it\ is}}
\DoxyCodeLine{00779\ \ \ \textcolor{comment}{//\ not\ checked\ whether\ a\ given\ day\ of\ the\ week\ matches\ the\ date;\ Feb\ 29}}
\DoxyCodeLine{00780\ \ \ \textcolor{comment}{//\ silently\ becomes\ Mar\ 1\ in\ non-\/leap\ years;\ under\ certain\ conditions,\ whole}}
\DoxyCodeLine{00781\ \ \ \textcolor{comment}{//\ English\ sentences\ may\ be\ parsed\ successfully\ and\ yield\ unexpected\ results.}}
\DoxyCodeLine{00782\ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00783\ \ \ \textcolor{comment}{//\ TODO(iyengar)\ Move\ the\ FromString/FromTimeT/ToTimeT/FromFileTime\ to}}
\DoxyCodeLine{00784\ \ \ \textcolor{comment}{//\ a\ new\ time\ converter\ class.}}
\DoxyCodeLine{00785\ \ \ [[nodiscard]]\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ FromString(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ time\_string,}
\DoxyCodeLine{00786\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Time*\ parsed\_time)\ \{}
\DoxyCodeLine{00787\ \ \ \ \ \textcolor{keywordflow}{return}\ FromStringInternal(time\_string,\ \textcolor{keyword}{true},\ parsed\_time);}
\DoxyCodeLine{00788\ \ \ \}}
\DoxyCodeLine{00789\ \ \ [[nodiscard]]\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ FromUTCString(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ time\_string,}
\DoxyCodeLine{00790\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Time*\ parsed\_time)\ \{}
\DoxyCodeLine{00791\ \ \ \ \ \textcolor{keywordflow}{return}\ FromStringInternal(time\_string,\ \textcolor{keyword}{false},\ parsed\_time);}
\DoxyCodeLine{00792\ \ \ \}}
\DoxyCodeLine{00793\ }
\DoxyCodeLine{00794\ \ \ \textcolor{comment}{//\ Fills\ the\ given\ |exploded|\ structure\ with\ either\ the\ local\ time\ or\ UTC\ from}}
\DoxyCodeLine{00795\ \ \ \textcolor{comment}{//\ this\ Time\ instance.\ If\ the\ conversion\ cannot\ be\ made,\ the\ output\ will\ be}}
\DoxyCodeLine{00796\ \ \ \textcolor{comment}{//\ assigned\ invalid\ values.\ Use\ Exploded::HasValidValues()\ to\ confirm\ a}}
\DoxyCodeLine{00797\ \ \ \textcolor{comment}{//\ successful\ conversion.}}
\DoxyCodeLine{00798\ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00799\ \ \ \textcolor{comment}{//\ Y10K\ compliance:\ This\ method\ will\ successfully\ convert\ all\ Times\ that}}
\DoxyCodeLine{00800\ \ \ \textcolor{comment}{//\ represent\ dates\ on/after\ the\ start\ of\ the\ year\ 1601\ and\ on/before\ the\ start}}
\DoxyCodeLine{00801\ \ \ \textcolor{comment}{//\ of\ the\ year\ 30828.\ Some\ platforms\ might\ convert\ over\ a\ wider\ input\ range.}}
\DoxyCodeLine{00802\ \ \ \textcolor{comment}{//\ LocalExplode\ respects\ the\ current\ time\ zone\ but\ does\ not\ attempt\ to\ use\ the}}
\DoxyCodeLine{00803\ \ \ \textcolor{comment}{//\ calendar\ or\ day-\/of-\/week\ encoding\ from\ the\ current\ locale\ -\/\ see\ the\ comments}}
\DoxyCodeLine{00804\ \ \ \textcolor{comment}{//\ on\ Exploded\ for\ more\ information.}}
\DoxyCodeLine{00805\ \ \ \textcolor{keywordtype}{void}\ UTCExplode(Exploded*\ exploded)\textcolor{keyword}{\ const\ }\{\ Explode(\textcolor{keyword}{false},\ exploded);\ \}}
\DoxyCodeLine{00806\ \ \ \textcolor{keywordtype}{void}\ LocalExplode(Exploded*\ exploded)\textcolor{keyword}{\ const\ }\{\ Explode(\textcolor{keyword}{true},\ exploded);\ \}}
\DoxyCodeLine{00807\ }
\DoxyCodeLine{00808\ \ \ \textcolor{comment}{//\ The\ following\ two\ functions\ round\ down\ the\ time\ to\ the\ nearest\ day\ in}}
\DoxyCodeLine{00809\ \ \ \textcolor{comment}{//\ either\ UTC\ or\ local\ time.\ It\ will\ represent\ midnight\ on\ that\ day.}}
\DoxyCodeLine{00810\ \ \ Time\ UTCMidnight()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ Midnight(\textcolor{keyword}{false});\ \}}
\DoxyCodeLine{00811\ \ \ Time\ LocalMidnight()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ Midnight(\textcolor{keyword}{true});\ \}}
\DoxyCodeLine{00812\ }
\DoxyCodeLine{00813\ \ \ \textcolor{comment}{//\ For\ legacy\ deserialization\ only.\ Converts\ an\ integer\ value\ representing}}
\DoxyCodeLine{00814\ \ \ \textcolor{comment}{//\ Time\ to\ a\ class.\ This\ may\ be\ used\ when\ deserializing\ a\ |Time|\ structure,}}
\DoxyCodeLine{00815\ \ \ \textcolor{comment}{//\ using\ a\ value\ known\ to\ be\ compatible.\ It\ is\ not\ provided\ as\ a\ constructor}}
\DoxyCodeLine{00816\ \ \ \textcolor{comment}{//\ because\ the\ integer\ type\ may\ be\ unclear\ from\ the\ perspective\ of\ a\ caller.}}
\DoxyCodeLine{00817\ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00818\ \ \ \textcolor{comment}{//\ DEPRECATED\ -\/\ Do\ not\ use\ in\ new\ code.\ When\ deserializing\ from\ \`{}base::Value`,}}
\DoxyCodeLine{00819\ \ \ \textcolor{comment}{//\ prefer\ the\ helpers\ from\ //base/json/values\_util.h\ instead.}}
\DoxyCodeLine{00820\ \ \ \textcolor{comment}{//\ Otherwise,\ use\ \`{}Time::FromDeltaSinceWindowsEpoch()`\ for\ \`{}Time`\ and}}
\DoxyCodeLine{00821\ \ \ \textcolor{comment}{//\ \`{}Microseconds()`\ for\ \`{}TimeDelta`.\ http://crbug.com/634507}}
\DoxyCodeLine{00822\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ Time\ FromInternalValue(int64\_t\ us)\ \{\ \textcolor{keywordflow}{return}\ Time(us);\ \}}
\DoxyCodeLine{00823\ }
\DoxyCodeLine{00824\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00825\ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }time\_internal::TimeBase<Time>;}
\DoxyCodeLine{00826\ }
\DoxyCodeLine{00827\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{explicit}\ Time(int64\_t\ microseconds\_since\_win\_epoch)}
\DoxyCodeLine{00828\ \ \ \ \ \ \ :\ TimeBase(microseconds\_since\_win\_epoch)\ \{\}}
\DoxyCodeLine{00829\ }
\DoxyCodeLine{00830\ \ \ \textcolor{comment}{//\ Explodes\ the\ given\ time\ to\ either\ local\ time\ |is\_local\ =\ true|\ or\ UTC}}
\DoxyCodeLine{00831\ \ \ \textcolor{comment}{//\ |is\_local\ =\ false|.}}
\DoxyCodeLine{00832\ \ \ \textcolor{keywordtype}{void}\ Explode(\textcolor{keywordtype}{bool}\ is\_local,\ Exploded*\ exploded)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00833\ }
\DoxyCodeLine{00834\ \ \ \textcolor{comment}{//\ Unexplodes\ a\ given\ time\ assuming\ the\ source\ is\ either\ local\ time}}
\DoxyCodeLine{00835\ \ \ \textcolor{comment}{//\ |is\_local\ =\ true|\ or\ UTC\ |is\_local\ =\ false|.\ Function\ returns\ false\ on}}
\DoxyCodeLine{00836\ \ \ \textcolor{comment}{//\ failure\ and\ sets\ |time|\ to\ Time(0).\ Otherwise\ returns\ true\ and\ sets\ |time|}}
\DoxyCodeLine{00837\ \ \ \textcolor{comment}{//\ to\ non-\/exploded\ time.}}
\DoxyCodeLine{00838\ \ \ [[nodiscard]]\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ FromExploded(\textcolor{keywordtype}{bool}\ is\_local,}
\DoxyCodeLine{00839\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ Exploded\&\ exploded,\ Time*\ time);}
\DoxyCodeLine{00840\ }
\DoxyCodeLine{00841\ \ \ \textcolor{comment}{//\ Some\ platforms\ use\ the\ ICU\ library\ to\ provide\ To/FromExploded,\ when\ their}}
\DoxyCodeLine{00842\ \ \ \textcolor{comment}{//\ native\ library\ implementations\ are\ insufficient\ in\ some\ way.}}
\DoxyCodeLine{00843\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ ExplodeUsingIcu(int64\_t\ millis\_since\_unix\_epoch,\ \textcolor{keywordtype}{bool}\ is\_local,}
\DoxyCodeLine{00844\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Exploded*\ exploded);}
\DoxyCodeLine{00845\ \ \ [[nodiscard]]\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ FromExplodedUsingIcu(}
\DoxyCodeLine{00846\ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ is\_local,\ \textcolor{keyword}{const}\ Exploded\&\ exploded,}
\DoxyCodeLine{00847\ \ \ \ \ \ \ int64\_t*\ millis\_since\_unix\_epoch);}
\DoxyCodeLine{00848\ }
\DoxyCodeLine{00849\ \ \ \textcolor{comment}{//\ Rounds\ down\ the\ time\ to\ the\ nearest\ day\ in\ either\ local\ time}}
\DoxyCodeLine{00850\ \ \ \textcolor{comment}{//\ |is\_local\ =\ true|\ or\ UTC\ |is\_local\ =\ false|.}}
\DoxyCodeLine{00851\ \ \ Time\ Midnight(\textcolor{keywordtype}{bool}\ is\_local)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00852\ }
\DoxyCodeLine{00853\ \ \ \textcolor{comment}{//\ Converts\ a\ string\ representation\ of\ time\ to\ a\ Time\ object.}}
\DoxyCodeLine{00854\ \ \ \textcolor{comment}{//\ An\ example\ of\ a\ time\ string\ which\ is\ converted\ is\ as\ below:-\/}}
\DoxyCodeLine{00855\ \ \ \textcolor{comment}{//\ "{}Tue,\ 15\ Nov\ 1994\ 12:45:26\ GMT"{}.\ If\ the\ timezone\ is\ not\ specified}}
\DoxyCodeLine{00856\ \ \ \textcolor{comment}{//\ in\ the\ input\ string,\ local\ time\ |is\_local\ =\ true|\ or}}
\DoxyCodeLine{00857\ \ \ \textcolor{comment}{//\ UTC\ |is\_local\ =\ false|\ is\ assumed.\ A\ timezone\ that\ cannot\ be\ parsed}}
\DoxyCodeLine{00858\ \ \ \textcolor{comment}{//\ (e.g.\ "{}UTC"{}\ which\ is\ not\ specified\ in\ RFC822)\ is\ treated\ as\ if\ the}}
\DoxyCodeLine{00859\ \ \ \textcolor{comment}{//\ timezone\ is\ not\ specified.}}
\DoxyCodeLine{00860\ \ \ [[nodiscard]]\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ FromStringInternal(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ time\_string,}
\DoxyCodeLine{00861\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ is\_local,}
\DoxyCodeLine{00862\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Time*\ parsed\_time);}
\DoxyCodeLine{00863\ }
\DoxyCodeLine{00864\ \ \ \textcolor{comment}{//\ Comparison\ does\ not\ consider\ |day\_of\_week|\ when\ doing\ the\ operation.}}
\DoxyCodeLine{00865\ \ \ [[nodiscard]]\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ ExplodedMostlyEquals(\textcolor{keyword}{const}\ Exploded\&\ lhs,}
\DoxyCodeLine{00866\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ Exploded\&\ rhs);}
\DoxyCodeLine{00867\ }
\DoxyCodeLine{00868\ \ \ \textcolor{comment}{//\ Converts\ the\ provided\ time\ in\ milliseconds\ since\ the\ Unix\ epoch\ (1970)\ to\ a}}
\DoxyCodeLine{00869\ \ \ \textcolor{comment}{//\ Time\ object,\ avoiding\ overflows.}}
\DoxyCodeLine{00870\ \ \ [[nodiscard]]\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ FromMillisecondsSinceUnixEpoch(}
\DoxyCodeLine{00871\ \ \ \ \ \ \ int64\_t\ unix\_milliseconds,\ Time*\ time);}
\DoxyCodeLine{00872\ }
\DoxyCodeLine{00873\ \ \ \textcolor{comment}{//\ Returns\ the\ milliseconds\ since\ the\ Unix\ epoch\ (1970),\ rounding\ the}}
\DoxyCodeLine{00874\ \ \ \textcolor{comment}{//\ microseconds\ towards\ -\/infinity.}}
\DoxyCodeLine{00875\ \ \ int64\_t\ ToRoundedDownMillisecondsSinceUnixEpoch()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00876\ \};}
\DoxyCodeLine{00877\ }
\DoxyCodeLine{00878\ \textcolor{comment}{//\ Factory\ methods\ that\ return\ a\ TimeDelta\ of\ the\ given\ unit.}}
\DoxyCodeLine{00879\ \textcolor{comment}{//\ WARNING:\ Floating\ point\ arithmetic\ is\ such\ that\ XXX(t.InXXXF())\ may\ not}}
\DoxyCodeLine{00880\ \textcolor{comment}{//\ precisely\ equal\ |t|.\ Hence,\ floating\ point\ values\ should\ not\ be\ used\ for}}
\DoxyCodeLine{00881\ \textcolor{comment}{//\ storage.}}
\DoxyCodeLine{00882\ }
\DoxyCodeLine{00883\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00884\ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{classkiwi_1_1_time_delta}{TimeDelta}}\ Days(T\ n)\ \{}
\DoxyCodeLine{00885\ \ \ \textcolor{keywordflow}{return}\ TimeDelta::FromInternalValue(MakeClampedNum(n)\ *}
\DoxyCodeLine{00886\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Time::kMicrosecondsPerDay);}
\DoxyCodeLine{00887\ \}}
\DoxyCodeLine{00888\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00889\ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{classkiwi_1_1_time_delta}{TimeDelta}}\ Hours(T\ n)\ \{}
\DoxyCodeLine{00890\ \ \ \textcolor{keywordflow}{return}\ TimeDelta::FromInternalValue(MakeClampedNum(n)\ *}
\DoxyCodeLine{00891\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Time::kMicrosecondsPerHour);}
\DoxyCodeLine{00892\ \}}
\DoxyCodeLine{00893\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00894\ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{classkiwi_1_1_time_delta}{TimeDelta}}\ Minutes(T\ n)\ \{}
\DoxyCodeLine{00895\ \ \ \textcolor{keywordflow}{return}\ TimeDelta::FromInternalValue(MakeClampedNum(n)\ *}
\DoxyCodeLine{00896\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Time::kMicrosecondsPerMinute);}
\DoxyCodeLine{00897\ \}}
\DoxyCodeLine{00898\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00899\ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{classkiwi_1_1_time_delta}{TimeDelta}}\ Seconds(T\ n)\ \{}
\DoxyCodeLine{00900\ \ \ \textcolor{keywordflow}{return}\ TimeDelta::FromInternalValue(MakeClampedNum(n)\ *}
\DoxyCodeLine{00901\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Time::kMicrosecondsPerSecond);}
\DoxyCodeLine{00902\ \}}
\DoxyCodeLine{00903\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00904\ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{classkiwi_1_1_time_delta}{TimeDelta}}\ Milliseconds(T\ n)\ \{}
\DoxyCodeLine{00905\ \ \ \textcolor{keywordflow}{return}\ TimeDelta::FromInternalValue(MakeClampedNum(n)\ *}
\DoxyCodeLine{00906\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Time::kMicrosecondsPerMillisecond);}
\DoxyCodeLine{00907\ \}}
\DoxyCodeLine{00908\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00909\ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{classkiwi_1_1_time_delta}{TimeDelta}}\ Microseconds(T\ n)\ \{}
\DoxyCodeLine{00910\ \ \ \textcolor{keywordflow}{return}\ TimeDelta::FromInternalValue(MakeClampedNum(n));}
\DoxyCodeLine{00911\ \}}
\DoxyCodeLine{00912\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00913\ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{classkiwi_1_1_time_delta}{TimeDelta}}\ Nanoseconds(T\ n)\ \{}
\DoxyCodeLine{00914\ \ \ \textcolor{keywordflow}{return}\ TimeDelta::FromInternalValue(MakeClampedNum(n)\ /}
\DoxyCodeLine{00915\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Time::kNanosecondsPerMicrosecond);}
\DoxyCodeLine{00916\ \}}
\DoxyCodeLine{00917\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00918\ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{classkiwi_1_1_time_delta}{TimeDelta}}\ Hertz(T\ n)\ \{}
\DoxyCodeLine{00919\ \ \ \textcolor{keywordflow}{return}\ n\ ?\ TimeDelta::FromInternalValue(Time::kMicrosecondsPerSecond\ /}
\DoxyCodeLine{00920\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ MakeClampedNum(n))}
\DoxyCodeLine{00921\ \ \ \ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{classkiwi_1_1_time_delta}{TimeDelta}}::Max();}
\DoxyCodeLine{00922\ \}}
\DoxyCodeLine{00923\ }
\DoxyCodeLine{00924\ \textcolor{comment}{//\ TimeDelta\ functions\ that\ must\ appear\ below\ the\ declarations\ of\ Time/TimeDelta}}
\DoxyCodeLine{00925\ }
\DoxyCodeLine{00926\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{double}\ TimeDelta::ToHz()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ Seconds(1)\ /\ *\textcolor{keyword}{this};\ \}}
\DoxyCodeLine{00927\ }
\DoxyCodeLine{00928\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ TimeDelta::InDays()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00929\ \ \ \textcolor{keywordflow}{if}\ (!is\_inf())\ \{}
\DoxyCodeLine{00930\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(delta\_\ /\ Time::kMicrosecondsPerDay);}
\DoxyCodeLine{00931\ \ \ \}}
\DoxyCodeLine{00932\ \ \ \textcolor{keywordflow}{return}\ (delta\_\ <\ 0)\ ?\ std::numeric\_limits<int>::min()}
\DoxyCodeLine{00933\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ std::numeric\_limits<int>::max();}
\DoxyCodeLine{00934\ \}}
\DoxyCodeLine{00935\ }
\DoxyCodeLine{00936\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ TimeDelta::InDaysFloored()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00937\ \ \ \textcolor{keywordflow}{if}\ (!is\_inf())\ \{}
\DoxyCodeLine{00938\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ result\ =\ delta\_\ /\ Time::kMicrosecondsPerDay;}
\DoxyCodeLine{00939\ \ \ \ \ \textcolor{comment}{//\ Convert\ |result|\ from\ truncating\ to\ flooring.}}
\DoxyCodeLine{00940\ \ \ \ \ \textcolor{keywordflow}{return}\ (result\ *\ Time::kMicrosecondsPerDay\ >\ delta\_)\ ?\ (result\ -\/\ 1)}
\DoxyCodeLine{00941\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ result;}
\DoxyCodeLine{00942\ \ \ \}}
\DoxyCodeLine{00943\ \ \ \textcolor{keywordflow}{return}\ (delta\_\ <\ 0)\ ?\ std::numeric\_limits<int>::min()}
\DoxyCodeLine{00944\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ std::numeric\_limits<int>::max();}
\DoxyCodeLine{00945\ \}}
\DoxyCodeLine{00946\ }
\DoxyCodeLine{00947\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ TimeDelta::InHours()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00948\ \ \ \textcolor{comment}{//\ saturated\_cast<>\ is\ necessary\ since\ very\ large\ (but\ still\ less\ than}}
\DoxyCodeLine{00949\ \ \ \textcolor{comment}{//\ min/max)\ deltas\ would\ result\ in\ overflow.}}
\DoxyCodeLine{00950\ \ \ \textcolor{keywordflow}{return}\ saturated\_cast<int>(delta\_\ /\ Time::kMicrosecondsPerHour);}
\DoxyCodeLine{00951\ \}}
\DoxyCodeLine{00952\ }
\DoxyCodeLine{00953\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ TimeDelta::InMinutes()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00954\ \ \ \textcolor{comment}{//\ saturated\_cast<>\ is\ necessary\ since\ very\ large\ (but\ still\ less\ than}}
\DoxyCodeLine{00955\ \ \ \textcolor{comment}{//\ min/max)\ deltas\ would\ result\ in\ overflow.}}
\DoxyCodeLine{00956\ \ \ \textcolor{keywordflow}{return}\ saturated\_cast<int>(delta\_\ /\ Time::kMicrosecondsPerMinute);}
\DoxyCodeLine{00957\ \}}
\DoxyCodeLine{00958\ }
\DoxyCodeLine{00959\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{double}\ TimeDelta::InSecondsF()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00960\ \ \ \textcolor{keywordflow}{if}\ (!is\_inf())\ \{}
\DoxyCodeLine{00961\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{double}\textcolor{keyword}{>}(delta\_)\ /\ Time::kMicrosecondsPerSecond;}
\DoxyCodeLine{00962\ \ \ \}}
\DoxyCodeLine{00963\ \ \ \textcolor{keywordflow}{return}\ (delta\_\ <\ 0)\ ?\ -\/std::numeric\_limits<double>::infinity()}
\DoxyCodeLine{00964\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ std::numeric\_limits<double>::infinity();}
\DoxyCodeLine{00965\ \}}
\DoxyCodeLine{00966\ }
\DoxyCodeLine{00967\ \textcolor{keyword}{constexpr}\ int64\_t\ TimeDelta::InSeconds()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00968\ \ \ \textcolor{keywordflow}{return}\ is\_inf()\ ?\ delta\_\ :\ (delta\_\ /\ Time::kMicrosecondsPerSecond);}
\DoxyCodeLine{00969\ \}}
\DoxyCodeLine{00970\ }
\DoxyCodeLine{00971\ \textcolor{keyword}{constexpr}\ int64\_t\ TimeDelta::InSecondsFloored()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00972\ \ \ \textcolor{keywordflow}{if}\ (!is\_inf())\ \{}
\DoxyCodeLine{00973\ \ \ \ \ \textcolor{keyword}{const}\ int64\_t\ result\ =\ delta\_\ /\ Time::kMicrosecondsPerSecond;}
\DoxyCodeLine{00974\ \ \ \ \ \textcolor{comment}{//\ Convert\ |result|\ from\ truncating\ to\ flooring.}}
\DoxyCodeLine{00975\ \ \ \ \ \textcolor{keywordflow}{return}\ (result\ *\ Time::kMicrosecondsPerSecond\ >\ delta\_)\ ?\ (result\ -\/\ 1)}
\DoxyCodeLine{00976\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ result;}
\DoxyCodeLine{00977\ \ \ \}}
\DoxyCodeLine{00978\ \ \ \textcolor{keywordflow}{return}\ delta\_;}
\DoxyCodeLine{00979\ \}}
\DoxyCodeLine{00980\ }
\DoxyCodeLine{00981\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{double}\ TimeDelta::InMillisecondsF()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00982\ \ \ \textcolor{keywordflow}{if}\ (!is\_inf())\ \{}
\DoxyCodeLine{00983\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{double}\textcolor{keyword}{>}(delta\_)\ /\ Time::kMicrosecondsPerMillisecond;}
\DoxyCodeLine{00984\ \ \ \}}
\DoxyCodeLine{00985\ \ \ \textcolor{keywordflow}{return}\ (delta\_\ <\ 0)\ ?\ -\/std::numeric\_limits<double>::infinity()}
\DoxyCodeLine{00986\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ std::numeric\_limits<double>::infinity();}
\DoxyCodeLine{00987\ \}}
\DoxyCodeLine{00988\ }
\DoxyCodeLine{00989\ \textcolor{keyword}{constexpr}\ int64\_t\ TimeDelta::InMilliseconds()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00990\ \ \ \textcolor{keywordflow}{if}\ (!is\_inf())\ \{}
\DoxyCodeLine{00991\ \ \ \ \ \textcolor{keywordflow}{return}\ delta\_\ /\ Time::kMicrosecondsPerMillisecond;}
\DoxyCodeLine{00992\ \ \ \}}
\DoxyCodeLine{00993\ \ \ \textcolor{keywordflow}{return}\ (delta\_\ <\ 0)\ ?\ std::numeric\_limits<int64\_t>::min()}
\DoxyCodeLine{00994\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ std::numeric\_limits<int64\_t>::max();}
\DoxyCodeLine{00995\ \}}
\DoxyCodeLine{00996\ }
\DoxyCodeLine{00997\ \textcolor{keyword}{constexpr}\ int64\_t\ TimeDelta::InMillisecondsRoundedUp()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00998\ \ \ \textcolor{keywordflow}{if}\ (!is\_inf())\ \{}
\DoxyCodeLine{00999\ \ \ \ \ \textcolor{keyword}{const}\ int64\_t\ result\ =\ delta\_\ /\ Time::kMicrosecondsPerMillisecond;}
\DoxyCodeLine{01000\ \ \ \ \ \textcolor{comment}{//\ Convert\ |result|\ from\ truncating\ to\ ceiling.}}
\DoxyCodeLine{01001\ \ \ \ \ \textcolor{keywordflow}{return}\ (delta\_\ >\ result\ *\ Time::kMicrosecondsPerMillisecond)\ ?\ (result\ +\ 1)}
\DoxyCodeLine{01002\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ result;}
\DoxyCodeLine{01003\ \ \ \}}
\DoxyCodeLine{01004\ \ \ \textcolor{keywordflow}{return}\ delta\_;}
\DoxyCodeLine{01005\ \}}
\DoxyCodeLine{01006\ }
\DoxyCodeLine{01007\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{double}\ TimeDelta::InMicrosecondsF()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{01008\ \ \ \textcolor{keywordflow}{if}\ (!is\_inf())\ \{}
\DoxyCodeLine{01009\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{double}\textcolor{keyword}{>}(delta\_);}
\DoxyCodeLine{01010\ \ \ \}}
\DoxyCodeLine{01011\ \ \ \textcolor{keywordflow}{return}\ (delta\_\ <\ 0)\ ?\ -\/std::numeric\_limits<double>::infinity()}
\DoxyCodeLine{01012\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ std::numeric\_limits<double>::infinity();}
\DoxyCodeLine{01013\ \}}
\DoxyCodeLine{01014\ }
\DoxyCodeLine{01015\ \textcolor{keyword}{constexpr}\ int64\_t\ TimeDelta::InNanoseconds()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{01016\ \ \ \textcolor{keywordflow}{return}\ base::ClampMul(delta\_,\ Time::kNanosecondsPerMicrosecond);}
\DoxyCodeLine{01017\ \}}
\DoxyCodeLine{01018\ }
\DoxyCodeLine{01019\ \textcolor{comment}{//\ static}}
\DoxyCodeLine{01020\ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{classkiwi_1_1_time_delta}{TimeDelta}}\ TimeDelta::Max()\ \{}
\DoxyCodeLine{01021\ \ \ \textcolor{keywordflow}{return}\ TimeDelta(std::numeric\_limits<int64\_t>::max());}
\DoxyCodeLine{01022\ \}}
\DoxyCodeLine{01023\ }
\DoxyCodeLine{01024\ \textcolor{comment}{//\ static}}
\DoxyCodeLine{01025\ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{classkiwi_1_1_time_delta}{TimeDelta}}\ TimeDelta::Min()\ \{}
\DoxyCodeLine{01026\ \ \ \textcolor{keywordflow}{return}\ TimeDelta(std::numeric\_limits<int64\_t>::min());}
\DoxyCodeLine{01027\ \}}
\DoxyCodeLine{01028\ }
\DoxyCodeLine{01029\ \textcolor{comment}{//\ static}}
\DoxyCodeLine{01030\ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{classkiwi_1_1_time_delta}{TimeDelta}}\ TimeDelta::FiniteMax()\ \{}
\DoxyCodeLine{01031\ \ \ \textcolor{keywordflow}{return}\ TimeDelta(std::numeric\_limits<int64\_t>::max()\ -\/\ 1);}
\DoxyCodeLine{01032\ \}}
\DoxyCodeLine{01033\ }
\DoxyCodeLine{01034\ \textcolor{comment}{//\ static}}
\DoxyCodeLine{01035\ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{classkiwi_1_1_time_delta}{TimeDelta}}\ TimeDelta::FiniteMin()\ \{}
\DoxyCodeLine{01036\ \ \ \textcolor{keywordflow}{return}\ TimeDelta(std::numeric\_limits<int64\_t>::min()\ +\ 1);}
\DoxyCodeLine{01037\ \}}
\DoxyCodeLine{01038\ }
\DoxyCodeLine{01039\ \textcolor{comment}{//\ TimeBase\ functions\ that\ must\ appear\ below\ the\ declarations\ of\ Time/TimeDelta}}
\DoxyCodeLine{01040\ \textcolor{keyword}{namespace\ }time\_internal\ \{}
\DoxyCodeLine{01041\ }
\DoxyCodeLine{01042\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ TimeClass>}
\DoxyCodeLine{01043\ \textcolor{keyword}{constexpr}\ TimeDelta\ TimeBase<TimeClass>::since\_origin()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{01044\ \ \ \textcolor{keywordflow}{return}\ Microseconds(us\_);}
\DoxyCodeLine{01045\ \}}
\DoxyCodeLine{01046\ }
\DoxyCodeLine{01047\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ TimeClass>}
\DoxyCodeLine{01048\ \textcolor{keyword}{constexpr}\ TimeDelta\ TimeBase<TimeClass>::operator-\/(}
\DoxyCodeLine{01049\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classkiwi_1_1time__internal_1_1_time_base}{TimeBase<TimeClass>}}\&\ other)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{01050\ \ \ \textcolor{keywordflow}{return}\ Microseconds(us\_\ -\/\ other.us\_);}
\DoxyCodeLine{01051\ \}}
\DoxyCodeLine{01052\ }
\DoxyCodeLine{01053\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ TimeClass>}
\DoxyCodeLine{01054\ \textcolor{keyword}{constexpr}\ TimeClass\ TimeBase<TimeClass>::operator+(TimeDelta\ delta)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{01055\ \ \ \textcolor{keywordflow}{return}\ TimeClass((Microseconds(us\_)\ +\ delta).InMicroseconds());}
\DoxyCodeLine{01056\ \}}
\DoxyCodeLine{01057\ }
\DoxyCodeLine{01058\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ TimeClass>}
\DoxyCodeLine{01059\ \textcolor{keyword}{constexpr}\ TimeClass\ TimeBase<TimeClass>::operator-\/(TimeDelta\ delta)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{01060\ \ \ \textcolor{keywordflow}{return}\ TimeClass((Microseconds(us\_)\ -\/\ delta).InMicroseconds());}
\DoxyCodeLine{01061\ \}}
\DoxyCodeLine{01062\ }
\DoxyCodeLine{01063\ \}\ \ \textcolor{comment}{//\ namespace\ time\_internal}}
\DoxyCodeLine{01064\ }
\DoxyCodeLine{01065\ \textcolor{comment}{//\ Time\ functions\ that\ must\ appear\ below\ the\ declarations\ of\ Time/TimeDelta}}
\DoxyCodeLine{01066\ }
\DoxyCodeLine{01067\ \textcolor{comment}{//\ static}}
\DoxyCodeLine{01068\ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{classkiwi_1_1_time}{Time}}\ Time::FromTimeT(time\_t\ tt)\ \{}
\DoxyCodeLine{01069\ \ \ \textcolor{keywordflow}{if}\ (tt\ ==\ 0)\ \{}
\DoxyCodeLine{01070\ \ \ \ \ \textcolor{keywordflow}{return}\ Time();\ \ \textcolor{comment}{//\ Preserve\ 0\ so\ we\ can\ tell\ it\ doesn't\ exist.}}
\DoxyCodeLine{01071\ \ \ \}}
\DoxyCodeLine{01072\ \ \ \textcolor{keywordflow}{return}\ (tt\ ==\ std::numeric\_limits<time\_t>::max())}
\DoxyCodeLine{01073\ \ \ \ \ \ \ \ \ \ \ \ \ \ ?\ Max()}
\DoxyCodeLine{01074\ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ (UnixEpoch()\ +\ Seconds(tt));}
\DoxyCodeLine{01075\ \}}
\DoxyCodeLine{01076\ }
\DoxyCodeLine{01077\ \textcolor{keyword}{constexpr}\ time\_t\ Time::ToTimeT()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{01078\ \ \ \textcolor{keywordflow}{if}\ (is\_null())\ \{}
\DoxyCodeLine{01079\ \ \ \ \ \textcolor{keywordflow}{return}\ 0;\ \ \textcolor{comment}{//\ Preserve\ 0\ so\ we\ can\ tell\ it\ doesn't\ exist.}}
\DoxyCodeLine{01080\ \ \ \}}
\DoxyCodeLine{01081\ \ \ \textcolor{keywordflow}{if}\ (!is\_inf())\ \{}
\DoxyCodeLine{01082\ \ \ \ \ \textcolor{keywordflow}{return}\ saturated\_cast<time\_t>((*\textcolor{keyword}{this}\ -\/\ UnixEpoch()).InSecondsFloored());}
\DoxyCodeLine{01083\ \ \ \}}
\DoxyCodeLine{01084\ \ \ \textcolor{keywordflow}{return}\ (us\_\ <\ 0)\ ?\ std::numeric\_limits<time\_t>::min()}
\DoxyCodeLine{01085\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ std::numeric\_limits<time\_t>::max();}
\DoxyCodeLine{01086\ \}}
\DoxyCodeLine{01087\ }
\DoxyCodeLine{01088\ \textcolor{comment}{//\ static}}
\DoxyCodeLine{01089\ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{classkiwi_1_1_time}{Time}}\ Time::FromSecondsSinceUnixEpoch(\textcolor{keywordtype}{double}\ dt)\ \{}
\DoxyCodeLine{01090\ \ \ \textcolor{comment}{//\ Preserve\ 0.}}
\DoxyCodeLine{01091\ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{01092\ \ \ \textcolor{comment}{//\ TODO(crbug.com/40286584):\ This\ is\ an\ unfortunate\ artifact\ of\ WebKit\ using\ 0}}
\DoxyCodeLine{01093\ \ \ \textcolor{comment}{//\ to\ mean\ "{}no\ time"{}.\ Add\ a\ "{}...PreservingNull()"{}\ version\ that\ does\ this,}}
\DoxyCodeLine{01094\ \ \ \textcolor{comment}{//\ convert\ the\ minimum\ necessary\ set\ of\ callers\ to\ use\ it,\ and\ remove\ the\ zero}}
\DoxyCodeLine{01095\ \ \ \textcolor{comment}{//\ check\ here.}}
\DoxyCodeLine{01096\ \ \ \textcolor{keywordflow}{return}\ (dt\ ==\ 0\ ||\ isnan(dt))\ ?\ Time()\ :\ (UnixEpoch()\ +\ Seconds(dt));}
\DoxyCodeLine{01097\ \}}
\DoxyCodeLine{01098\ }
\DoxyCodeLine{01099\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{double}\ Time::InSecondsFSinceUnixEpoch()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{01100\ \ \ \textcolor{comment}{//\ Preserve\ 0.}}
\DoxyCodeLine{01101\ \ \ \textcolor{keywordflow}{if}\ (is\_null())\ \{}
\DoxyCodeLine{01102\ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{01103\ \ \ \}}
\DoxyCodeLine{01104\ \ \ \textcolor{keywordflow}{if}\ (!is\_inf())\ \{}
\DoxyCodeLine{01105\ \ \ \ \ \textcolor{keywordflow}{return}\ (*\textcolor{keyword}{this}\ -\/\ UnixEpoch()).InSecondsF();}
\DoxyCodeLine{01106\ \ \ \}}
\DoxyCodeLine{01107\ \ \ \textcolor{keywordflow}{return}\ (us\_\ <\ 0)\ ?\ -\/std::numeric\_limits<double>::infinity()}
\DoxyCodeLine{01108\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ std::numeric\_limits<double>::infinity();}
\DoxyCodeLine{01109\ \}}
\DoxyCodeLine{01110\ }
\DoxyCodeLine{01111\ \textcolor{preprocessor}{\#if\ BUILDFLAG(IS\_POSIX)\ ||\ BUILDFLAG(IS\_FUCHSIA)}}
\DoxyCodeLine{01112\ \textcolor{comment}{//\ static}}
\DoxyCodeLine{01113\ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{classkiwi_1_1_time}{Time}}\ Time::FromTimeSpec(\textcolor{keyword}{const}\ timespec\&\ ts)\ \{}
\DoxyCodeLine{01114\ \ \ \textcolor{keywordflow}{return}\ FromSecondsSinceUnixEpoch(ts.tv\_sec\ +\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{double}\textcolor{keyword}{>}(ts.tv\_nsec)\ /}
\DoxyCodeLine{01115\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ kNanosecondsPerSecond);}
\DoxyCodeLine{01116\ \}}
\DoxyCodeLine{01117\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01118\ }
\DoxyCodeLine{01119\ \textcolor{comment}{//\ static}}
\DoxyCodeLine{01120\ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{classkiwi_1_1_time}{Time}}\ Time::FromMillisecondsSinceUnixEpoch(int64\_t\ dt)\ \{}
\DoxyCodeLine{01121\ \ \ \textcolor{comment}{//\ TODO(crbug.com/40286584):\ The\ lack\ of\ zero-\/preservation\ here\ doesn't\ match}}
\DoxyCodeLine{01122\ \ \ \textcolor{comment}{//\ InMillisecondsSinceUnixEpoch(),\ which\ is\ dangerous\ since\ it\ means}}
\DoxyCodeLine{01123\ \ \ \textcolor{comment}{//\ round-\/trips\ are\ not\ necessarily\ idempotent.\ Add\ "{}...PreservingNull()"{}}}
\DoxyCodeLine{01124\ \ \ \textcolor{comment}{//\ versions\ that\ explicitly\ check\ for\ zeros,\ convert\ the\ minimum\ necessary\ set}}
\DoxyCodeLine{01125\ \ \ \textcolor{comment}{//\ of\ callers\ to\ use\ them,\ and\ remove\ the\ null-\/check\ in}}
\DoxyCodeLine{01126\ \ \ \textcolor{comment}{//\ InMillisecondsSinceUnixEpoch().}}
\DoxyCodeLine{01127\ \ \ \textcolor{keywordflow}{return}\ UnixEpoch()\ +\ Milliseconds(dt);}
\DoxyCodeLine{01128\ \}}
\DoxyCodeLine{01129\ }
\DoxyCodeLine{01130\ \textcolor{comment}{//\ static}}
\DoxyCodeLine{01131\ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{classkiwi_1_1_time}{Time}}\ Time::FromMillisecondsSinceUnixEpoch(\textcolor{keywordtype}{double}\ dt)\ \{}
\DoxyCodeLine{01132\ \ \ \textcolor{keywordflow}{return}\ isnan(dt)\ ?\ Time()\ :\ (UnixEpoch()\ +\ Milliseconds(dt));}
\DoxyCodeLine{01133\ \}}
\DoxyCodeLine{01134\ }
\DoxyCodeLine{01135\ \textcolor{keyword}{constexpr}\ int64\_t\ Time::InMillisecondsSinceUnixEpoch()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{01136\ \ \ \textcolor{comment}{//\ Preserve\ 0.}}
\DoxyCodeLine{01137\ \ \ \textcolor{keywordflow}{if}\ (is\_null())\ \{}
\DoxyCodeLine{01138\ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{01139\ \ \ \}}
\DoxyCodeLine{01140\ \ \ \textcolor{keywordflow}{if}\ (!is\_inf())\ \{}
\DoxyCodeLine{01141\ \ \ \ \ \textcolor{keywordflow}{return}\ (*\textcolor{keyword}{this}\ -\/\ UnixEpoch()).InMilliseconds();}
\DoxyCodeLine{01142\ \ \ \}}
\DoxyCodeLine{01143\ \ \ \textcolor{keywordflow}{return}\ (us\_\ <\ 0)\ ?\ std::numeric\_limits<int64\_t>::min()}
\DoxyCodeLine{01144\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ std::numeric\_limits<int64\_t>::max();}
\DoxyCodeLine{01145\ \}}
\DoxyCodeLine{01146\ }
\DoxyCodeLine{01147\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{double}\ Time::InMillisecondsFSinceUnixEpoch()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{01148\ \ \ \textcolor{comment}{//\ Preserve\ 0.}}
\DoxyCodeLine{01149\ \ \ \textcolor{keywordflow}{return}\ is\_null()\ ?\ 0\ :\ InMillisecondsFSinceUnixEpochIgnoringNull();}
\DoxyCodeLine{01150\ \}}
\DoxyCodeLine{01151\ }
\DoxyCodeLine{01152\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{double}\ Time::InMillisecondsFSinceUnixEpochIgnoringNull()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{01153\ \ \ \textcolor{comment}{//\ Preserve\ max\ and\ min\ without\ offset\ to\ prevent\ over/underflow.}}
\DoxyCodeLine{01154\ \ \ \textcolor{keywordflow}{if}\ (!is\_inf())\ \{}
\DoxyCodeLine{01155\ \ \ \ \ \textcolor{keywordflow}{return}\ (*\textcolor{keyword}{this}\ -\/\ UnixEpoch()).InMillisecondsF();}
\DoxyCodeLine{01156\ \ \ \}}
\DoxyCodeLine{01157\ \ \ \textcolor{keywordflow}{return}\ (us\_\ <\ 0)\ ?\ -\/std::numeric\_limits<double>::infinity()}
\DoxyCodeLine{01158\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ std::numeric\_limits<double>::infinity();}
\DoxyCodeLine{01159\ \}}
\DoxyCodeLine{01160\ }
\DoxyCodeLine{01161\ \textcolor{comment}{//\ For\ logging\ use\ only.}}
\DoxyCodeLine{01162\ BASE\_EXPORT\ std::ostream\&\ operator<<(std::ostream\&\ os,\ \mbox{\hyperlink{classkiwi_1_1_time}{Time}}\ time);}
\DoxyCodeLine{01163\ }
\DoxyCodeLine{01164\ \textcolor{comment}{//\ TimeTicks\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{01165\ }
\DoxyCodeLine{01166\ \textcolor{comment}{//\ Represents\ monotonically\ non-\/decreasing\ clock\ time.}}
\DoxyCodeLine{01167\ \textcolor{keyword}{class\ }BASE\_EXPORT\ TimeTicks\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classkiwi_1_1time__internal_1_1_time_base}{time\_internal::TimeBase}}<TimeTicks>\ \{}
\DoxyCodeLine{01168\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01169\ \ \ \textcolor{comment}{//\ The\ underlying\ clock\ used\ to\ generate\ new\ TimeTicks.}}
\DoxyCodeLine{01170\ \ \ \textcolor{keyword}{enum\ class}\ Clock\ \{}
\DoxyCodeLine{01171\ \ \ \ \ FUCHSIA\_ZX\_CLOCK\_MONOTONIC,}
\DoxyCodeLine{01172\ \ \ \ \ LINUX\_CLOCK\_MONOTONIC,}
\DoxyCodeLine{01173\ \ \ \ \ IOS\_CF\_ABSOLUTE\_TIME\_MINUS\_KERN\_BOOTTIME,}
\DoxyCodeLine{01174\ \ \ \ \ MAC\_MACH\_ABSOLUTE\_TIME,}
\DoxyCodeLine{01175\ \ \ \ \ WIN\_QPC,}
\DoxyCodeLine{01176\ \ \ \ \ WIN\_ROLLOVER\_PROTECTED\_TIME\_GET\_TIME}
\DoxyCodeLine{01177\ \ \ \};}
\DoxyCodeLine{01178\ }
\DoxyCodeLine{01179\ \ \ \textcolor{keyword}{constexpr}\ TimeTicks()\ :\ TimeBase(0)\ \{\}}
\DoxyCodeLine{01180\ }
\DoxyCodeLine{01181\ \ \ \textcolor{comment}{//\ Platform-\/dependent\ tick\ count\ representing\ "{}right\ now."{}\ When}}
\DoxyCodeLine{01182\ \ \ \textcolor{comment}{//\ IsHighResolution()\ returns\ false,\ the\ resolution\ of\ the\ clock\ could\ be}}
\DoxyCodeLine{01183\ \ \ \textcolor{comment}{//\ as\ coarse\ as\ \string~15.6ms.\ Otherwise,\ the\ resolution\ should\ be\ no\ worse\ than\ one}}
\DoxyCodeLine{01184\ \ \ \textcolor{comment}{//\ microsecond.}}
\DoxyCodeLine{01185\ \ \ \textcolor{keyword}{static}\ TimeTicks\ Now();}
\DoxyCodeLine{01186\ }
\DoxyCodeLine{01187\ \ \ \textcolor{comment}{//\ Lower\ overhead,\ lower\ resolution\ platform-\/dependent\ tick\ count\ representing}}
\DoxyCodeLine{01188\ \ \ \textcolor{comment}{//\ "{}right\ now."{}\ The\ resolution\ may\ be\ as\ coarse\ as\ \string~15.6ms\ on\ Windows\ and}}
\DoxyCodeLine{01189\ \ \ \textcolor{comment}{//\ single\ digit\ ms\ on\ other\ platforms.\ LowResolutionNow()\ can\ be\ used\ in\ place}}
\DoxyCodeLine{01190\ \ \ \textcolor{comment}{//\ of\ Now()\ to\ reduce\ overhead\ of\ high\ frequency\ timekeeping\ where\ the\ finer}}
\DoxyCodeLine{01191\ \ \ \textcolor{comment}{//\ resolution\ of\ Now()\ is\ not\ required.\ Generally,\ prefer\ to\ use\ Now()\ over}}
\DoxyCodeLine{01192\ \ \ \textcolor{comment}{//\ LowResolutionNow()\ unless\ profiling\ shows\ measurable\ overhead.}}
\DoxyCodeLine{01193\ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{01194\ \ \ \textcolor{comment}{//\ Note:\ LowResolutionNow()\ and\ Now()\ are\ NOT\ comparable.\ They\ use\ different}}
\DoxyCodeLine{01195\ \ \ \textcolor{comment}{//\ underlying\ clocks\ on\ some\ platforms\ (e.g.\ Mac,\ iOS).\ On\ other\ platforms\ the}}
\DoxyCodeLine{01196\ \ \ \textcolor{comment}{//\ monotonically\ non-\/decreasing\ property\ of\ TimeTicks\ does\ not\ hold\ for\ mixed}}
\DoxyCodeLine{01197\ \ \ \textcolor{comment}{//\ comparisons.}}
\DoxyCodeLine{01198\ \ \ \textcolor{keyword}{static}\ TimeTicks\ LowResolutionNow();}
\DoxyCodeLine{01199\ }
\DoxyCodeLine{01200\ \ \ \textcolor{comment}{//\ Returns\ true\ if\ the\ high\ resolution\ clock\ is\ working\ on\ this\ system\ and}}
\DoxyCodeLine{01201\ \ \ \textcolor{comment}{//\ Now()\ will\ return\ high\ resolution\ values.\ Note\ that,\ on\ systems\ where\ the}}
\DoxyCodeLine{01202\ \ \ \textcolor{comment}{//\ high\ resolution\ clock\ works\ but\ is\ deemed\ inefficient,\ the\ low\ resolution}}
\DoxyCodeLine{01203\ \ \ \textcolor{comment}{//\ clock\ will\ be\ used\ instead.}}
\DoxyCodeLine{01204\ \ \ [[nodiscard]]\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ IsHighResolution();}
\DoxyCodeLine{01205\ }
\DoxyCodeLine{01206\ \ \ \textcolor{comment}{//\ Returns\ true\ if\ TimeTicks\ is\ consistent\ across\ processes,\ meaning\ that}}
\DoxyCodeLine{01207\ \ \ \textcolor{comment}{//\ timestamps\ taken\ on\ different\ processes\ can\ be\ safely\ compared\ with\ one}}
\DoxyCodeLine{01208\ \ \ \textcolor{comment}{//\ another.\ (Note\ that,\ even\ on\ platforms\ where\ this\ returns\ true,\ time\ values}}
\DoxyCodeLine{01209\ \ \ \textcolor{comment}{//\ from\ different\ threads\ that\ are\ within\ one\ tick\ of\ each\ other\ must\ be}}
\DoxyCodeLine{01210\ \ \ \textcolor{comment}{//\ considered\ to\ have\ an\ ambiguous\ ordering.)}}
\DoxyCodeLine{01211\ \ \ [[nodiscard]]\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ IsConsistentAcrossProcesses();}
\DoxyCodeLine{01212\ }
\DoxyCodeLine{01213\ \textcolor{preprocessor}{\#if\ BUILDFLAG(IS\_FUCHSIA)}}
\DoxyCodeLine{01214\ \ \ \textcolor{comment}{//\ Converts\ between\ TimeTicks\ and\ an\ ZX\_CLOCK\_MONOTONIC\ zx\_time\_t\ value.}}
\DoxyCodeLine{01215\ \ \ \textcolor{keyword}{static}\ TimeTicks\ FromZxTime(zx\_time\_t\ nanos\_since\_boot);}
\DoxyCodeLine{01216\ \ \ zx\_time\_t\ ToZxTime()\ \textcolor{keyword}{const};}
\DoxyCodeLine{01217\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01218\ }
\DoxyCodeLine{01219\ \textcolor{preprocessor}{\#if\ BUILDFLAG(IS\_WIN)}}
\DoxyCodeLine{01220\ \ \ \textcolor{comment}{//\ Translates\ an\ absolute\ QPC\ timestamp\ into\ a\ TimeTicks\ value.\ The\ returned}}
\DoxyCodeLine{01221\ \ \ \textcolor{comment}{//\ value\ has\ the\ same\ origin\ as\ Now().\ Do\ NOT\ attempt\ to\ use\ this\ if}}
\DoxyCodeLine{01222\ \ \ \textcolor{comment}{//\ IsHighResolution()\ returns\ false.}}
\DoxyCodeLine{01223\ \ \ \textcolor{keyword}{static}\ TimeTicks\ FromQPCValue(LONGLONG\ qpc\_value);}
\DoxyCodeLine{01224\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01225\ }
\DoxyCodeLine{01226\ \textcolor{preprocessor}{\#if\ BUILDFLAG(IS\_APPLE)}}
\DoxyCodeLine{01227\ \ \ \textcolor{keyword}{static}\ TimeTicks\ FromMachAbsoluteTime(uint64\_t\ mach\_absolute\_time);}
\DoxyCodeLine{01228\ }
\DoxyCodeLine{01229\ \ \ \textcolor{comment}{//\ Sets\ the\ current\ Mach\ timebase\ to\ \`{}timebase`.\ Returns\ the\ old\ timebase.}}
\DoxyCodeLine{01230\ \ \ \textcolor{keyword}{static}\ mach\_timebase\_info\_data\_t\ SetMachTimebaseInfoForTesting(}
\DoxyCodeLine{01231\ \ \ \ \ \ \ mach\_timebase\_info\_data\_t\ timebase);}
\DoxyCodeLine{01232\ }
\DoxyCodeLine{01233\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ BUILDFLAG(IS\_APPLE)}}
\DoxyCodeLine{01234\ }
\DoxyCodeLine{01235\ \textcolor{preprocessor}{\#if\ BUILDFLAG(IS\_ANDROID)\ ||\ BUILDFLAG(IS\_CHROMEOS)}}
\DoxyCodeLine{01236\ \ \ \textcolor{comment}{//\ Converts\ to\ TimeTicks\ the\ value\ obtained\ from\ SystemClock.uptimeMillis().}}
\DoxyCodeLine{01237\ \ \ \textcolor{comment}{//\ Note:\ this\ conversion\ may\ be\ non-\/monotonic\ in\ relation\ to\ previously}}
\DoxyCodeLine{01238\ \ \ \textcolor{comment}{//\ obtained\ TimeTicks::Now()\ values\ because\ of\ the\ truncation\ (to}}
\DoxyCodeLine{01239\ \ \ \textcolor{comment}{//\ milliseconds)\ performed\ by\ uptimeMillis().}}
\DoxyCodeLine{01240\ \ \ \textcolor{keyword}{static}\ TimeTicks\ FromUptimeMillis(int64\_t\ uptime\_millis\_value);}
\DoxyCodeLine{01241\ }
\DoxyCodeLine{01242\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ BUILDFLAG(IS\_ANDROID)\ ||\ BUILDFLAG(IS\_CHROMEOS)}}
\DoxyCodeLine{01243\ }
\DoxyCodeLine{01244\ \ \ \textcolor{comment}{//\ Get\ an\ estimate\ of\ the\ TimeTick\ value\ at\ the\ time\ of\ the\ UnixEpoch.\ Because}}
\DoxyCodeLine{01245\ \ \ \textcolor{comment}{//\ Time\ and\ TimeTicks\ respond\ differently\ to\ user-\/set\ time\ and\ NTP}}
\DoxyCodeLine{01246\ \ \ \textcolor{comment}{//\ adjustments,\ this\ number\ is\ only\ an\ estimate.\ Nevertheless,\ this\ can\ be}}
\DoxyCodeLine{01247\ \ \ \textcolor{comment}{//\ useful\ when\ you\ need\ to\ relate\ the\ value\ of\ TimeTicks\ to\ a\ real\ time\ and}}
\DoxyCodeLine{01248\ \ \ \textcolor{comment}{//\ date.\ Note:\ Upon\ first\ invocation,\ this\ function\ takes\ a\ snapshot\ of\ the}}
\DoxyCodeLine{01249\ \ \ \textcolor{comment}{//\ realtime\ clock\ to\ establish\ a\ reference\ point.\ \ This\ function\ will\ return}}
\DoxyCodeLine{01250\ \ \ \textcolor{comment}{//\ the\ same\ value\ for\ the\ duration\ of\ the\ application,\ but\ will\ be\ different}}
\DoxyCodeLine{01251\ \ \ \textcolor{comment}{//\ in\ future\ application\ runs.}}
\DoxyCodeLine{01252\ \ \ \textcolor{comment}{//\ DEPRECATED:}}
\DoxyCodeLine{01253\ \ \ \textcolor{comment}{//\ Because\ TimeTicks\ increments\ can\ get\ suspended\ on\ some\ platforms\ (e.g.\ Mac)}}
\DoxyCodeLine{01254\ \ \ \textcolor{comment}{//\ and\ because\ this\ function\ returns\ a\ static\ value,\ this\ value\ will\ not\ get}}
\DoxyCodeLine{01255\ \ \ \textcolor{comment}{//\ suspension\ time\ into\ account\ on\ those\ platforms.}}
\DoxyCodeLine{01256\ \ \ \textcolor{comment}{//\ As\ TimeTicks\ is\ intended\ to\ be\ used\ to\ track\ a\ process\ duration\ and\ not\ an}}
\DoxyCodeLine{01257\ \ \ \textcolor{comment}{//\ absolute\ time,\ if\ you\ plan\ to\ use\ this\ function,\ please\ consider\ using\ a}}
\DoxyCodeLine{01258\ \ \ \textcolor{comment}{//\ Time\ instead.}}
\DoxyCodeLine{01259\ \ \ \textcolor{comment}{//\ TODO(crbug.com/355423207):\ Remove\ function.}}
\DoxyCodeLine{01260\ \ \ \textcolor{keyword}{static}\ TimeTicks\ UnixEpoch();}
\DoxyCodeLine{01261\ }
\DoxyCodeLine{01262\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ SetSharedUnixEpoch(TimeTicks);}
\DoxyCodeLine{01263\ }
\DoxyCodeLine{01264\ \ \ \textcolor{comment}{//\ Returns\ |this|\ snapped\ to\ the\ next\ tick,\ given\ a\ |tick\_phase|\ and}}
\DoxyCodeLine{01265\ \ \ \textcolor{comment}{//\ repeating\ |tick\_interval|\ in\ both\ directions.\ |this|\ may\ be\ before,}}
\DoxyCodeLine{01266\ \ \ \textcolor{comment}{//\ after,\ or\ equal\ to\ the\ |tick\_phase|.}}
\DoxyCodeLine{01267\ \ \ TimeTicks\ SnappedToNextTick(TimeTicks\ tick\_phase,}
\DoxyCodeLine{01268\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classkiwi_1_1_time_delta}{TimeDelta}}\ tick\_interval)\ \textcolor{keyword}{const};}
\DoxyCodeLine{01269\ }
\DoxyCodeLine{01270\ \ \ \textcolor{comment}{//\ Returns\ an\ enum\ indicating\ the\ underlying\ clock\ being\ used\ to\ generate}}
\DoxyCodeLine{01271\ \ \ \textcolor{comment}{//\ TimeTicks\ timestamps.\ This\ function\ should\ only\ be\ used\ for\ debugging\ and}}
\DoxyCodeLine{01272\ \ \ \textcolor{comment}{//\ logging\ purposes.}}
\DoxyCodeLine{01273\ \ \ \textcolor{keyword}{static}\ Clock\ GetClock();}
\DoxyCodeLine{01274\ }
\DoxyCodeLine{01275\ \ \ \textcolor{comment}{//\ Converts\ an\ integer\ value\ representing\ TimeTicks\ to\ a\ class.\ This\ may\ be}}
\DoxyCodeLine{01276\ \ \ \textcolor{comment}{//\ used\ when\ deserializing\ a\ |TimeTicks|\ structure,\ using\ a\ value\ known\ to\ be}}
\DoxyCodeLine{01277\ \ \ \textcolor{comment}{//\ compatible.\ It\ is\ not\ provided\ as\ a\ constructor\ because\ the\ integer\ type}}
\DoxyCodeLine{01278\ \ \ \textcolor{comment}{//\ may\ be\ unclear\ from\ the\ perspective\ of\ a\ caller.}}
\DoxyCodeLine{01279\ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{01280\ \ \ \textcolor{comment}{//\ DEPRECATED\ -\/\ Do\ not\ use\ in\ new\ code.\ For\ deserializing\ TimeTicks\ values,}}
\DoxyCodeLine{01281\ \ \ \textcolor{comment}{//\ prefer\ TimeTicks\ +\ TimeDelta();\ however,\ be\ aware\ that\ the\ origin\ is\ not}}
\DoxyCodeLine{01282\ \ \ \textcolor{comment}{//\ fixed\ and\ may\ vary.\ Serializing\ for\ persistence\ is\ strongly\ discouraged.}}
\DoxyCodeLine{01283\ \ \ \textcolor{comment}{//\ http://crbug.com/634507}}
\DoxyCodeLine{01284\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ TimeTicks\ FromInternalValue(int64\_t\ us)\ \{}
\DoxyCodeLine{01285\ \ \ \ \ \textcolor{keywordflow}{return}\ TimeTicks(us);}
\DoxyCodeLine{01286\ \ \ \}}
\DoxyCodeLine{01287\ }
\DoxyCodeLine{01288\ \ \textcolor{keyword}{protected}:}
\DoxyCodeLine{01289\ \textcolor{preprocessor}{\#if\ BUILDFLAG(IS\_WIN)}}
\DoxyCodeLine{01290\ \ \ \textcolor{keyword}{typedef}\ DWORD\ (*TickFunctionType)(void);}
\DoxyCodeLine{01291\ \ \ \textcolor{keyword}{static}\ TickFunctionType\ SetMockTickFunction(TickFunctionType\ ticker);}
\DoxyCodeLine{01292\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01293\ }
\DoxyCodeLine{01294\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{01295\ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classkiwi_1_1time__internal_1_1_time_base}{time\_internal::TimeBase}}<TimeTicks>;}
\DoxyCodeLine{01296\ }
\DoxyCodeLine{01297\ \ \ \textcolor{comment}{//\ Please\ use\ Now()\ to\ create\ a\ new\ object.\ This\ is\ for\ internal\ use}}
\DoxyCodeLine{01298\ \ \ \textcolor{comment}{//\ and\ testing.}}
\DoxyCodeLine{01299\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{explicit}\ TimeTicks(int64\_t\ us)\ :\ TimeBase(us)\ \{\}}
\DoxyCodeLine{01300\ \};}
\DoxyCodeLine{01301\ }
\DoxyCodeLine{01302\ \textcolor{comment}{//\ For\ logging\ use\ only.}}
\DoxyCodeLine{01303\ BASE\_EXPORT\ std::ostream\&\ operator<<(std::ostream\&\ os,\ \mbox{\hyperlink{classkiwi_1_1_time_ticks}{TimeTicks}}\ time\_ticks);}
\DoxyCodeLine{01304\ }
\DoxyCodeLine{01305\ \textcolor{comment}{//\ LiveTicks\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{01306\ }
\DoxyCodeLine{01307\ \textcolor{comment}{//\ Behaves\ similarly\ to\ \`{}TimeTicks`\ (a\ monotonically\ non-\/decreasing\ clock\ time)}}
\DoxyCodeLine{01308\ \textcolor{comment}{//\ with\ the\ main\ difference\ being\ that\ \`{}LiveTicks`\ is\ guaranteed\ not\ to\ advance}}
\DoxyCodeLine{01309\ \textcolor{comment}{//\ while\ the\ system\ is\ suspended.}}
\DoxyCodeLine{01310\ \textcolor{keyword}{class\ }BASE\_EXPORT\ LiveTicks\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classkiwi_1_1time__internal_1_1_time_base}{time\_internal::TimeBase}}<LiveTicks>\ \{}
\DoxyCodeLine{01311\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01312\ \ \ \textcolor{keyword}{constexpr}\ LiveTicks()\ :\ TimeBase(0)\ \{\}}
\DoxyCodeLine{01313\ \ \ \textcolor{keyword}{static}\ LiveTicks\ Now();}
\DoxyCodeLine{01314\ }
\DoxyCodeLine{01315\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{01316\ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classkiwi_1_1time__internal_1_1_time_base}{time\_internal::TimeBase}}<LiveTicks>;}
\DoxyCodeLine{01317\ }
\DoxyCodeLine{01318\ \ \ \textcolor{comment}{//\ Please\ use\ Now()\ to\ create\ a\ new\ object.\ This\ is\ for\ internal\ use}}
\DoxyCodeLine{01319\ \ \ \textcolor{comment}{//\ and\ testing.}}
\DoxyCodeLine{01320\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{explicit}\ LiveTicks(int64\_t\ us)\ :\ TimeBase(us)\ \{\}}
\DoxyCodeLine{01321\ \};}
\DoxyCodeLine{01322\ }
\DoxyCodeLine{01323\ \textcolor{comment}{//\ For\ logging\ use\ only.}}
\DoxyCodeLine{01324\ BASE\_EXPORT\ std::ostream\&\ operator<<(std::ostream\&\ os,\ \mbox{\hyperlink{classkiwi_1_1_live_ticks}{LiveTicks}}\ live\_ticks);}
\DoxyCodeLine{01325\ }
\DoxyCodeLine{01326\ \textcolor{comment}{//\ ThreadTicks\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{01327\ }
\DoxyCodeLine{01328\ \textcolor{comment}{//\ Represents\ a\ thread-\/specific\ clock\ that\ runs\ only\ while\ the\ thread\ is}}
\DoxyCodeLine{01329\ \textcolor{comment}{//\ scheduled.\ This\ has\ the\ effect\ of\ counting\ time\ spent\ actually\ executing}}
\DoxyCodeLine{01330\ \textcolor{comment}{//\ code,\ but\ not\ time\ spent\ blocked\ (e.g.\ on\ I/O),\ or\ ready\ and\ waiting\ to\ be}}
\DoxyCodeLine{01331\ \textcolor{comment}{//\ run.}}
\DoxyCodeLine{01332\ \textcolor{comment}{//}}
\DoxyCodeLine{01333\ \textcolor{comment}{//\ Note:\ This\ is\ typically\ significantly\ more\ expensive\ than\ TimeTicks.\ For}}
\DoxyCodeLine{01334\ \textcolor{comment}{//\ instance,\ on\ Linux-\/based\ systems,\ it\ requires\ a\ true\ system\ call,\ whereas}}
\DoxyCodeLine{01335\ \textcolor{comment}{//\ TimeTicks::Now()\ calls\ are\ usually\ handled\ through\ the\ vDSO.\ This\ does\ not}}
\DoxyCodeLine{01336\ \textcolor{comment}{//\ matter\ if\ a\ couple\ us\ of\ overhead\ is\ not\ important\ to\ you,\ but\ do\ not\ call}}
\DoxyCodeLine{01337\ \textcolor{comment}{//\ this\ in\ a\ tight\ loop,\ or\ for\ sub-\/microsecond\ intervals.}}
\DoxyCodeLine{01338\ \textcolor{comment}{//}}
\DoxyCodeLine{01339\ \textcolor{comment}{//\ For\ instance,\ in\ 2024\ on\ a\ Linux\ system,\ in\ a\ simple\ loop:}}
\DoxyCodeLine{01340\ \textcolor{comment}{//\ -\/\ TimeTicks::Now()\ takes\ 27ns\ per\ loop\ iteration}}
\DoxyCodeLine{01341\ \textcolor{comment}{//\ -\/\ ThreadTicks::Now()\ takes\ 875ns\ per\ loop\ iteration.\ Actual\ cost\ is\ likely}}
\DoxyCodeLine{01342\ \textcolor{comment}{//\ \ \ higher\ in\ Chromium\ due\ to\ the\ sandbox\ (seccomp-\/BPF).}}
\DoxyCodeLine{01343\ \textcolor{keyword}{class\ }BASE\_EXPORT\ ThreadTicks\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classkiwi_1_1time__internal_1_1_time_base}{time\_internal::TimeBase}}<ThreadTicks>\ \{}
\DoxyCodeLine{01344\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{01345\ \ \ \textcolor{keyword}{constexpr}\ ThreadTicks()\ :\ TimeBase(0)\ \{\}}
\DoxyCodeLine{01346\ }
\DoxyCodeLine{01347\ \ \ \textcolor{comment}{//\ Returns\ true\ if\ ThreadTicks::Now()\ is\ supported\ on\ this\ system.}}
\DoxyCodeLine{01348\ \ \ [[nodiscard]]\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ IsSupported()\ \{}
\DoxyCodeLine{01349\ \textcolor{preprocessor}{\#if\ (defined(\_POSIX\_THREAD\_CPUTIME)\ \&\&\ (\_POSIX\_THREAD\_CPUTIME\ >=\ 0))\ ||\ \(\backslash\)}}
\DoxyCodeLine{01350\ \textcolor{preprocessor}{\ \ \ \ BUILDFLAG(IS\_APPLE)\ ||\ BUILDFLAG(IS\_ANDROID)\ ||\ BUILDFLAG(IS\_FUCHSIA)}}
\DoxyCodeLine{01351\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{01352\ \textcolor{preprocessor}{\#elif\ BUILDFLAG(IS\_WIN)}}
\DoxyCodeLine{01353\ \ \ \ \ \textcolor{keywordflow}{return}\ IsSupportedWin();}
\DoxyCodeLine{01354\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{01355\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{01356\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01357\ \ \ \}}
\DoxyCodeLine{01358\ }
\DoxyCodeLine{01359\ \ \ \textcolor{comment}{//\ Waits\ until\ the\ initialization\ is\ completed.\ Needs\ to\ be\ guarded\ with\ a}}
\DoxyCodeLine{01360\ \ \ \textcolor{comment}{//\ call\ to\ IsSupported().}}
\DoxyCodeLine{01361\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ WaitUntilInitialized()\ \{}
\DoxyCodeLine{01362\ \textcolor{preprocessor}{\#if\ BUILDFLAG(IS\_WIN)}}
\DoxyCodeLine{01363\ \ \ \ \ WaitUntilInitializedWin();}
\DoxyCodeLine{01364\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01365\ \ \ \}}
\DoxyCodeLine{01366\ }
\DoxyCodeLine{01367\ \ \ \textcolor{comment}{//\ Returns\ thread-\/specific\ CPU-\/time\ on\ systems\ that\ support\ this\ feature.}}
\DoxyCodeLine{01368\ \ \ \textcolor{comment}{//\ Needs\ to\ be\ guarded\ with\ a\ call\ to\ IsSupported().\ Use\ this\ timer}}
\DoxyCodeLine{01369\ \ \ \textcolor{comment}{//\ to\ (approximately)\ measure\ how\ much\ time\ the\ calling\ thread\ spent\ doing}}
\DoxyCodeLine{01370\ \ \ \textcolor{comment}{//\ actual\ work\ vs.\ being\ de-\/scheduled.\ May\ return\ bogus\ results\ if\ the\ thread}}
\DoxyCodeLine{01371\ \ \ \textcolor{comment}{//\ migrates\ to\ another\ CPU\ between\ two\ calls.\ Returns\ an\ empty\ ThreadTicks}}
\DoxyCodeLine{01372\ \ \ \textcolor{comment}{//\ object\ until\ the\ initialization\ is\ completed.\ If\ a\ clock\ reading\ is}}
\DoxyCodeLine{01373\ \ \ \textcolor{comment}{//\ absolutely\ needed,\ call\ WaitUntilInitialized()\ before\ this\ method.}}
\DoxyCodeLine{01374\ \ \ \textcolor{keyword}{static}\ ThreadTicks\ Now();}
\DoxyCodeLine{01375\ }
\DoxyCodeLine{01376\ \textcolor{preprocessor}{\#if\ BUILDFLAG(IS\_WIN)}}
\DoxyCodeLine{01377\ \ \ \textcolor{comment}{//\ Similar\ to\ Now()\ above\ except\ this\ returns\ thread-\/specific\ CPU\ time\ for\ an}}
\DoxyCodeLine{01378\ \ \ \textcolor{comment}{//\ arbitrary\ thread.\ All\ comments\ for\ Now()\ method\ above\ apply\ apply\ to\ this}}
\DoxyCodeLine{01379\ \ \ \textcolor{comment}{//\ method\ as\ well.}}
\DoxyCodeLine{01380\ \ \ \textcolor{keyword}{static}\ ThreadTicks\ GetForThread(\textcolor{keyword}{const}\ PlatformThreadHandle\&\ thread\_handle);}
\DoxyCodeLine{01381\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01382\ }
\DoxyCodeLine{01383\ \ \ \textcolor{comment}{//\ Converts\ an\ integer\ value\ representing\ ThreadTicks\ to\ a\ class.\ This\ may\ be}}
\DoxyCodeLine{01384\ \ \ \textcolor{comment}{//\ used\ when\ deserializing\ a\ |ThreadTicks|\ structure,\ using\ a\ value\ known\ to}}
\DoxyCodeLine{01385\ \ \ \textcolor{comment}{//\ be\ compatible.\ It\ is\ not\ provided\ as\ a\ constructor\ because\ the\ integer\ type}}
\DoxyCodeLine{01386\ \ \ \textcolor{comment}{//\ may\ be\ unclear\ from\ the\ perspective\ of\ a\ caller.}}
\DoxyCodeLine{01387\ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{01388\ \ \ \textcolor{comment}{//\ DEPRECATED\ -\/\ Do\ not\ use\ in\ new\ code.\ For\ deserializing\ ThreadTicks\ values,}}
\DoxyCodeLine{01389\ \ \ \textcolor{comment}{//\ prefer\ ThreadTicks\ +\ TimeDelta();\ however,\ be\ aware\ that\ the\ origin\ is\ not}}
\DoxyCodeLine{01390\ \ \ \textcolor{comment}{//\ fixed\ and\ may\ vary.\ Serializing\ for\ persistence\ is\ strongly}}
\DoxyCodeLine{01391\ \ \ \textcolor{comment}{//\ discouraged.\ http://crbug.com/634507}}
\DoxyCodeLine{01392\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ ThreadTicks\ FromInternalValue(int64\_t\ us)\ \{}
\DoxyCodeLine{01393\ \ \ \ \ \textcolor{keywordflow}{return}\ ThreadTicks(us);}
\DoxyCodeLine{01394\ \ \ \}}
\DoxyCodeLine{01395\ }
\DoxyCodeLine{01396\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{01397\ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classkiwi_1_1time__internal_1_1_time_base}{time\_internal::TimeBase}}<ThreadTicks>;}
\DoxyCodeLine{01398\ }
\DoxyCodeLine{01399\ \ \ \textcolor{comment}{//\ Please\ use\ Now()\ or\ GetForThread()\ to\ create\ a\ new\ object.\ This\ is\ for}}
\DoxyCodeLine{01400\ \ \ \textcolor{comment}{//\ internal\ use\ and\ testing.}}
\DoxyCodeLine{01401\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{explicit}\ ThreadTicks(int64\_t\ us)\ :\ TimeBase(us)\ \{\}}
\DoxyCodeLine{01402\ }
\DoxyCodeLine{01403\ \textcolor{preprocessor}{\#if\ BUILDFLAG(IS\_WIN)}}
\DoxyCodeLine{01404\ \ \ [[nodiscard]]\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ IsSupportedWin();}
\DoxyCodeLine{01405\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ WaitUntilInitializedWin();}
\DoxyCodeLine{01406\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01407\ \};}
\DoxyCodeLine{01408\ }
\DoxyCodeLine{01409\ \textcolor{comment}{//\ For\ logging\ use\ only.}}
\DoxyCodeLine{01410\ BASE\_EXPORT\ std::ostream\&\ operator<<(std::ostream\&\ os,\ \mbox{\hyperlink{classkiwi_1_1_thread_ticks}{ThreadTicks}}\ time\_ticks);}
\DoxyCodeLine{01411\ }
\DoxyCodeLine{01412\ \}\ \ \textcolor{comment}{//\ namespace\ kiwi}}

\end{DoxyCode}
